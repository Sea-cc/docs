<template><div><h1 id="æ–‡ä»¶èµ„æºå¤„ç†" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶èµ„æºå¤„ç†" aria-hidden="true">#</a> æ–‡ä»¶èµ„æºå¤„ç†</h1>
<p>å‰è¨€ï¼š</p>
<p><strong>ğŸªµBlobå’ŒFileå¯ä»¥å½’ä¸ºä¸€ç±»ï¼Œå®ƒä»¬éƒ½æ˜¯æ•°æ®</strong></p>
<p>ğŸ“¦<strong>formDataæ˜¯ä¸€ä¸ªåº”ç”¨æ•°æ®çš„åœºæ™¯</strong></p>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<p>å›¾ç‰‡ã€éŸ³è§†é¢‘ã€Excelç­‰è¿™å‡ ç§å¸¸è§çš„èµ„æºç±»å‹ï¼Œå¦‚ä½•ä»å®ç°å‰ç«¯ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Ÿ</p>
<p>ğŸ“åŸç”Ÿçš„ <strong>File</strong> å¯¹è±¡<code v-pre>new File(['&lt;h1&gt; Blob &lt;/h1&gt;'],'FileName',{...opytion})</code></p>
<ul>
<li>çº¯ç²¹çš„æ–‡ä»¶ï¼Œé€šå¸¸è¡¨ç¤ºæˆ‘ä»¬ä½¿ç”¨ <code v-pre>&lt;input type=&quot;file&quot;&gt;</code> é€‰æ‹©çš„ FileList å¯¹è±¡ï¼ˆ<strong>æ²¡æœ‰ç»è¿‡ä»»ä½•å¤„ç†çš„æ–‡ä»¶</strong>ï¼‰</li>
<li>File å¯¹è±¡ä¹Ÿæ˜¯äºŒè¿›åˆ¶å¯¹è±¡ï¼Œ<strong>ä»å±äº Blob</strong>ï¼›ä¹Ÿå°±æ˜¯è¯´ <strong>File æ˜¯ Blob é‡Œçš„ä¸€ä¸ªå°ç±»</strong>ï¼ŒBlob çš„å±æ€§å’Œæ–¹æ³•éƒ½å¯ä»¥ç”¨äº Fileï¼Œè€Œ File è‡ªå·±ä¹Ÿ<strong>æœ‰è‡ªå·±ç‰¹æœ‰çš„å±æ€§å’Œæ–¹æ³•</strong>ã€‚å¯¹äº Blob å’Œ File éƒ½æœ‰çš„å±æ€§ï¼Œæ¨èä½¿ç”¨ Blob çš„å±æ€§</li>
</ul>
<p>ğŸ“‘è½¬åŒ–åçš„ <strong>Blob</strong> å¯¹è±¡ <code v-pre>new Blob(['&lt;h1&gt; Blob &lt;/h1&gt;'],{...option})</code></p>
<ul>
<li>è¡¨ç¤ºäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼Œ<strong>å¹¶ä¸æ˜¯å‰ç«¯çš„ç‰¹æœ‰å¯¹è±¡</strong>ï¼Œè€Œæ˜¯è®¡ç®—æœºç•Œçš„é€šç”¨æœ¯è¯­ï¼Œä¸€ä¸ªåŒ…å«æœ‰<strong>åªè¯»åŸå§‹æ•°æ®</strong>çš„ç±»æ–‡ä»¶å¯¹è±¡ï¼ˆ<strong>ä¸å¯ä¿®æ”¹çš„äºŒè¿›åˆ¶æ–‡ä»¶</strong>ï¼‰</li>
<li>Blobåªæœ‰ä¸€ä¸ªsliceæ–¹æ³•ï¼Œå®ç°å¯¹æ–‡ä»¶çš„åˆ†å‰²ï¼ˆæ³¨æ„è¿™é‡Œå¹¶ä¸è¿èƒŒBlobçš„åªè¯»æ€§ï¼Œ<strong>sliceåªæ˜¯å¤åˆ¶æŒ‡å®šèŒƒå›´å†…çš„Blobæ•°æ®</strong>ï¼‰<code v-pre>Blob.slice(start, end ,contentType)</code> ï¼ˆæ–‡ä»¶çš„æ–­ç‚¹ç»­ä¼ åˆ©ç”¨äº†æ”¹ç‰¹æ€§ï¼‰</li>
<li>ä¾‹å¦‚ï¼Œå›¾ç‰‡ canvas åˆæˆåçš„ base64 è½¬åŒ–ä¸º Blob å¯¹è±¡ï¼Œå½•éŸ³éŸ³é¢‘ç»è¿‡ç®—æ³•ç”Ÿæˆçš„æ•°æ®è½¬åŒ– Bloab å¯¹è±¡ç­‰</li>
</ul>
<p>ğŸ—’ï¸<strong>FormData å¯¹è±¡</strong><code v-pre>new FormData()</code></p>
<ul>
<li>ä½¿ç”¨ FormData å¯ä»¥å¼‚æ­¥ä¸Šä¼ ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè€Œè¿™ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°±æ˜¯ä¸Šé¢è®²çš„Blobå¯¹è±¡</li>
<li>æ–‡ä»¶ä¸Šä¼ æœåŠ¡å™¨æ—¶ï¼ŒFormData å°±æ˜¯å°è£…çš„ä¸€ä¸ª form è¡¨å•ï¼Œåº”ç”¨æ•°æ®(Blob)çš„ä¸€ä¸ªåœºæ™¯</li>
<li>ç»™ FormData å¯¹è±¡æ·»åŠ ä¸€ä¸‹æ–‡ä»¶çš„ä¿¡æ¯æ•°æ®<code v-pre>new FormData().append('fileKey',file)</code>ã€formData å®ä¾‹æ·»åŠ  file å¯¹è±¡ã€‘ï¼Œç„¶åé€šè¿‡1è¯·æ±‚ä¸Šä¼ æœåŠ¡å™¨</li>
</ul>
<p><strong>å…¶å®ƒ</strong>ï¼š</p>
<p>âœï¸<strong>å›¾ç‰‡é“¾æ¥è½¬ base64</strong>ï¼ˆå¼‚æ­¥ï¼‰</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">/**</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  *  url è½¬åŒ– base64</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{ Array }</span><span style="color: var(--shiki-token-comment)"> imageArr å›¾ç‰‡é“¾æ¥</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * </span><span style="color: var(--shiki-token-keyword)">@return</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{ Promise }</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  */</span></span>
<span class="line"><span style="color: var(--shiki-token-function)">transformationBase</span><span style="color: var(--shiki-color-text)">(imageArr) {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> arr </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> [];</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">Promise</span><span style="color: var(--shiki-color-text)">((resolve) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">imageArr</span><span style="color: var(--shiki-token-function)">.forEach</span><span style="color: var(--shiki-color-text)">((item) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> image </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Image</span><span style="color: var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.src </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> item;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-token-function)">.setAttribute</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;crossOrigin&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;Anonymous&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">			</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">onload</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> () </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> canvas </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">document</span><span style="color: var(--shiki-token-function)">.createElement</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;canvas&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-constant)">canvas</span><span style="color: var(--shiki-color-text)">.width </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.width;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-constant)">canvas</span><span style="color: var(--shiki-color-text)">.height </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.height;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> ctx </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">canvas</span><span style="color: var(--shiki-token-function)">.getContext</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;2d&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-constant)">ctx</span><span style="color: var(--shiki-token-function)">.drawImage</span><span style="color: var(--shiki-color-text)">(image</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.width</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.height);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-comment)">// è·å–å›¾ç‰‡æ ¼å¼ png gif jpg...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> ext </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-color-text)">.src</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-function)">.substring</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">image</span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)">src</span><span style="color: var(--shiki-token-function)">.lastIndexOf</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;.&#39;</span><span style="color: var(--shiki-color-text)">) </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-function)">.toLowerCase</span><span style="color: var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-comment)">// è½¬åŒ–æ–¹æ³• toDataURL(&#39;image/æ–‡ä»¶ç±»å‹&#39;)</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> dataURL </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">canvas</span><span style="color: var(--shiki-token-function)">.toDataURL</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;image/&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> ext);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-constant)">arr</span><span style="color: var(--shiki-token-function)">.push</span><span style="color: var(--shiki-color-text)">(dataURL);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-comment)">// é€šè¿‡æ•°ç»„é•¿åº¦åˆ¤æ–­æ˜¯å¦å…¨éƒ¨å®Œæˆ</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">                </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">arr</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">length</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">==</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">imageArr</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">length</span><span style="color: var(--shiki-color-text)">) </span><span style="color: var(--shiki-token-function)">resolve</span><span style="color: var(--shiki-color-text)">(arr);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">            };</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">        });</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    });</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ğŸ²æ–‡ä»¶è½¬æˆ Base64</strong></p>
<blockquote>
<p>**FileReaderï¼š**å‰é¢æåˆ° Blobå¯¹è±¡æ˜¯ä¸€ä¸ªåªè¯»å¯¹è±¡ï¼ˆäºŒè¿›åˆ¶å¯¹è±¡ï¼‰ï¼Œç›´æ¥è¯»å–åªèƒ½æ‹¿åˆ°ä¸€å †0101äºŒè¿›åˆ¶æ•°æ®ï¼Œå› æ­¤éœ€è¦å€ŸåŠ©ä¸“é—¨çš„å·¥å…·æ¥è¯»å–ï¼Œè¿™ä¸ªå·¥å…·å°±æ˜¯ FileReaderã€‚é€šè¿‡ FileReader å¯ä»¥å°† Blob è¯»å–ä¸ºä¸åŒçš„æ ¼å¼æ•°æ®ã€‚ï¼ˆè€ƒè™‘å…¼å®¹æ€§é—®é¢˜ï¼‰</p>
</blockquote>
<p>é€šè¿‡<code v-pre>FileReader.readAsDataURL(blob)</code> å°±æ˜¯å°†äºŒè¿›åˆ¶æ•°æ®è¯»å–å¹¶ç¼–ç ä¸º Base64 æ ¼å¼ï¼Œ<code v-pre>FileReader.readAsText(blob)</code> å°±æ˜¯å°†äºŒè¿›åˆ¶æ•°æ®è¯»å–å¹¶ç¼–ç ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">/**</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  *  æ–‡ä»¶ è½¬æˆ Base64</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{ Blob|file }</span><span style="color: var(--shiki-token-comment)"> file æ–‡ä»¶</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * </span><span style="color: var(--shiki-token-keyword)">@return</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{ Promise }</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  */</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">readFile</span><span style="color: var(--shiki-color-text)">(file) {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    retrun </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">Promise</span><span style="color: var(--shiki-color-text)">((resolve)</span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)">{</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">let</span><span style="color: var(--shiki-color-text)"> reader </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">FileReader</span><span style="color: var(--shiki-color-text)">();</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">reader</span><span style="color: var(--shiki-token-function)">.readAsDataURL</span><span style="color: var(--shiki-color-text)">(file);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">reader</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">onload</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> (e) { </span></span>
<span class="line"><span style="color: var(--shiki-color-text)">			</span><span style="color: var(--shiki-token-constant)">reader</span><span style="color: var(--shiki-color-text)">?.result </span><span style="color: var(--shiki-token-keyword)">&amp;&amp;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">reader</span><span style="color: var(--shiki-color-text)">.result)</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">		}</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    })</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ğŸ§·window.openä¸‹è½½</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">/**</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * window.openä¸‹è½½</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{ String }</span><span style="color: var(--shiki-token-comment)"> url æ–‡ä»¶ä¸‹è½½é“¾æ¥</span></span>
<span class="line"><span style="color: var(--shiki-token-comment)">  */</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">downloadEvt</span><span style="color: var(--shiki-color-text)">(url) {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-token-function)">.open</span><span style="color: var(--shiki-color-text)">(url</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;_self&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä¼˜ç‚¹</strong></p>
<ul>
<li>ç®€å•æ–¹ä¾¿ç›´æ¥</li>
</ul>
<p><strong>ç¼ºç‚¹</strong></p>
<ul>
<li>ä¼šå‡ºç°URLé•¿åº¦é™åˆ¶é—®é¢˜</li>
<li>éœ€è¦æ³¨æ„urlç¼–ç é—®é¢˜</li>
<li>æ— æ³•è·å–ä¸‹è½½è¿›åº¦</li>
<li>æ— æ³•åœ¨headerä¸­æºå¸¦tokenåšé‰´æƒæ“ä½œ</li>
<li>æ— æ³•ç›´æ¥ä¸‹è½½æµè§ˆå™¨å¯ç›´æ¥é¢„è§ˆçš„æ–‡ä»¶ç±»å‹ï¼ˆtxtã€pngã€pdfä¼šç›´æ¥é¢„è§ˆï¼‰</li>
<li>æ— æ³•åˆ¤æ–­æ¥å£æ˜¯å¦è¿”å›æˆåŠŸ</li>
</ul>
<p>ğŸ–‡ï¸<a href="https://blog.csdn.net/ljy123w/article/details/123438648" target="_blank" rel="noopener noreferrer">æ›´å¤šä¸‹è½½æ–¹æ³•<ExternalLinkIcon/></a></p>
</div></template>
