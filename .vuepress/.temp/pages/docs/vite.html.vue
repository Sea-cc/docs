<template><div><h1 id="ğŸ“–-vite-åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-vite-åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> ğŸ“– Vite åŸºæœ¬ä½¿ç”¨</h1>
<h1 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a> </h1>
<blockquote>
<p>ç°åœ¨æµè§ˆå™¨å·²ç»æ”¯æŒ es module è¯­æ³•ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œåªéœ€è¦åœ¨ script æ ‡ç­¾é‡ŒåŠ ä¸Š type=â€˜moduleâ€™ å³å¯</p>
<p><strong>Vite ä¸æ”¯æŒ CommonJS è¯­æ³•(require)ï¼Œéœ€é€šè¿‡æ’ä»¶å®ç°æ”¯æŒ</strong>ğŸ“¦</p>
<p>Vite åˆ©ç”¨æµè§ˆå™¨å¯¹ es module è¯­æ³•çš„æ”¯æŒï¼Œè®©æµè§ˆå™¨å»è§£æåŸºæœ¬æ–‡ä»¶ï¼›âœï¸ ä¸ºä»€ä¹ˆè¿˜éœ€è¦ Viteï¼Ÿ</p>
<p>å¦‚ lessã€vueã€ts ç­‰æ–‡ä»¶æµè§ˆå™¨æ˜¯ä¸æ”¯æŒçš„ï¼Œå½“ä½¿ç”¨ es module å¼•å…¥ä¸€ä¸ªå¦‚ lodash çš„å·¥å…·æ—¶ï¼Œæµè§ˆå™¨æŠŠ lodash æ‰€æœ‰ä¾èµ–éƒ½åŠ è½½(å¯¹æµè§ˆå™¨å‘é€è¯·æ±‚æ˜¯å·¨å¤§çš„æ¶ˆè€—)</p>
</blockquote>
<p>ğŸ¦«Webpack ä¾èµ– express æœåŠ¡å™¨</p>
<p>ğŸ¦ˆVite1.x ä¾èµ– Koa æœåŠ¡å™¨</p>
<p>ğŸVite2.x ä¾èµ– Connect æœåŠ¡å™¨</p>
<p><img src="https://raw.githubusercontent.com/Kiyan-a/For_picGo/img/202207231816610.png" alt="" loading="lazy"></p>
<h2 id="vite-å¯¹-css-çš„æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#vite-å¯¹-css-çš„æ”¯æŒ" aria-hidden="true">#</a> Vite å¯¹ css çš„æ”¯æŒ</h2>
<ul>
<li>vite å¯ä»¥ç›´æ¥æ”¯æŒ css çš„å¤„ç†ï¼Œå¯ä»¥ç›´æ¥æ”¯æŒ css é¢„å¤„ç†å™¨(éœ€è¦å®‰è£…ä¾èµ–)</li>
</ul>
<p><code v-pre>npm install less -D</code></p>
<ul>
<li>vite ç›´æ¥æ”¯æŒ postcss çš„è½¬æ¢(éœ€è¦å®‰è£…ä¾èµ–)ï¼Œ<strong>å¹¶ä¸”é…ç½® <code v-pre>postcss.config.js</code> çš„é…ç½®æ–‡ä»¶å³å¯</strong></li>
</ul>
<p><code v-pre>npm install postcss postcss-preset-env -D</code></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">/* postcss.config.js */</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">	plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;postcss-preset-env&#39;</span><span style="color: var(--shiki-color-text)">)]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vite-å¯¹-typescript-çš„æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#vite-å¯¹-typescript-çš„æ”¯æŒ" aria-hidden="true">#</a> Vite å¯¹ TypeScript çš„æ”¯æŒ</h2>
<ul>
<li>vite å¯¹ TypeScript é»˜è®¤åŸç”Ÿæ”¯æŒ(æ— éœ€å®‰è£…ä¾èµ–)ï¼Œç›´æ¥ä½¿ç”¨ ESBuild æ¥å®Œæˆç¼–è¯‘</li>
</ul>
<h2 id="vite-å¯¹-vue-çš„æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#vite-å¯¹-vue-çš„æ”¯æŒ" aria-hidden="true">#</a> Vite å¯¹ vue çš„æ”¯æŒ</h2>
<ul>
<li>
<p>vite å¯¹ vue æä¾›ä¸€çº§ä¼˜å…ˆæ”¯æŒ(éœ€è¦å®‰è£…ä¾èµ–<code v-pre>vue@next</code>ï¼Œ<strong>å¹¶ä¸”é…ç½® <code v-pre>vite.config.js</code> çš„é…ç½®æ–‡ä»¶</strong>)ã€åŒä¸ºä¸€ä¸ªä½œè€…ã€‘</p>
</li>
<li>
<p>Vue 3 å•æ–‡ä»¶ç»„ä»¶æ”¯æŒï¼š<code v-pre>@vitejs/plugin-vue</code></p>
</li>
<li>
<p>Vue 3 JSX æ”¯æŒï¼š<code v-pre>@vitejs/plugin-vue-jsx</code></p>
</li>
<li>
<p>Vue 2 æ”¯æŒï¼š<code v-pre>vite-plugin-vue2</code></p>
</li>
</ul>
<p>å®‰è£…å¯¹<code v-pre>.vue</code>æ–‡ä»¶çš„æ”¯æŒæ’ä»¶ <code v-pre>@vue/compiler-sfs</code></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">/* vite.config.js */</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> vue form </span><span style="color: var(--shiki-token-string-expression)">&#39;@vue/compiler-sfs&#39;</span><span style="color: var(--shiki-token-comment)">/* ES è¯­æ³•ä¹Ÿå¯ä»¥ */</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">const vue = requrie(</span><span style="color: var(--shiki-token-string-expression)">&#39;@vue/compiler-sfs&#39;</span><span style="color: var(--shiki-color-text)">) </span><span style="color: var(--shiki-token-comment)">/* ä½¿ç”¨CommonJSè¯­æ³•å¼•å…¥ä¾èµ–(vite.config.jsä¸ºnodeæ‰§è¡Œçš„ä»£ç ),vueä¸ºä¸€ä¸ªå‡½æ•°(noæ„é€ å‡½æ•°) */</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">module.exports = {</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">	plugins: [vue()]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="vite-ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#vite-ä¼˜åŒ–" aria-hidden="true">#</a> Vite ä¼˜åŒ–</h2>
<blockquote>
<p>Vite åœ¨æ„å»ºå·¥ç¨‹æ—¶ã€ï¼Œä¼šå°† npm æ¨¡å—ä¾èµ–(å¦‚ lodashã€Vue ç­‰ä¾èµ–)<strong>é¢„æ‰“åŒ…</strong>ç”Ÿæˆåœ¨ node_modules æ–‡ä»¶å¤¹ä¸‹çš„ <code v-pre>.vite</code> ä¸‹ï¼Œå½“å¼€å‘è€…å†æ¬¡æ‰“åŒ…æ„å»ºå·¥ç¨‹æ—¶ç›´æ¥ä» <code v-pre>.vite</code>ä¸‹åŠ è½½é¢„æ‰“åŒ…çš„ä¾èµ–æ–‡ä»¶ï¼Œå¤§å¤§æå‡äº†æ„å»ºæ—¶é—´</p>
</blockquote>
<h2 id="å…¶å®ƒ" tabindex="-1"><a class="header-anchor" href="#å…¶å®ƒ" aria-hidden="true">#</a> å…¶å®ƒ</h2>
<p>å¯é€šè¿‡<code v-pre>npx vite build</code>ç›´æ¥å¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼Œ<code v-pre>npx vite preview</code>ç›´æ¥å¯¹é¡¹ç›®è¿›è¡Œé¢„è§ˆ</p>
<h2 id="esbuild-è§£æ" tabindex="-1"><a class="header-anchor" href="#esbuild-è§£æ" aria-hidden="true">#</a> ESBuild è§£æ</h2>
<ul>
<li>è¶…å¿«çš„æ„å»ºé€Ÿåº¦ï¼Œå¹¶ä¸”ä¸éœ€è¦ç¼“å­˜(ä¸åŒäº babel)</li>
<li>æ”¯æŒ ES6 å’Œ CommonJS çš„æ¨¡å—åŒ–</li>
<li><strong>æ”¯æŒ ES6 çš„ Tree Shaking</strong></li>
<li>æ”¯æŒ Goã€JavaScript çš„ API(ESBuild åŸºäº GO è¯­è¨€å®ç°)</li>
<li>æ”¯æŒ TypeScriptã€JSX ç­‰è¯­æ³•ç¼–è¯‘</li>
<li>æ”¯æŒ SourceMap</li>
<li>æ”¯æŒä»£ç å‹ç¼©</li>
<li>æ”¯æŒæ‰©å±•å…¶ä»–æ’ä»¶</li>
</ul>
<p>ESBuild ä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ï¼Ÿ</p>
<p>ESBuild åŸºäº GO è¯­è¨€å®ç°ï¼ŒGo è¯­è¨€å¯ä»¥ç›´æ¥è½¬æ¢æˆæœºæ¢°è¯­è¨€ï¼Œè€Œæ— éœ€ç»è¿‡å­—èŠ‚ç </p>
<h2 id="vite-è„šæ‰‹æ¶" tabindex="-1"><a class="header-anchor" href="#vite-è„šæ‰‹æ¶" aria-hidden="true">#</a> Vite è„šæ‰‹æ¶</h2>
<ul>
<li><code v-pre>npm init @vitejs/app</code> === <code v-pre>npm install @vitejs/create-app</code></li>
</ul>
</div></template>
