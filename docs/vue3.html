<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.48" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://kiyan-a.github.io/sev/docs/vue3.html"><meta property="og:site_name" content="K"><meta property="og:title" content="ğŸ“– Vue 3"><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-09-18T11:39:38.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:modified_time" content="2022-09-18T11:39:38.000Z"><link rel="icon" type="svg" href="/logo.svg"><title>ğŸ“– Vue 3 | K</title><meta name="description" content="è®°å½•æˆé•¿,ç›¸ä¿¡è¿‡ç¨‹...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.f29cc84c.css">
    <link rel="modulepreload" href="/assets/app.4d775669.js"><link rel="modulepreload" href="/assets/vue3.html.f8b2b63a.js"><link rel="modulepreload" href="/assets/vue3.html.8e968af7.js"><link rel="prefetch" href="/assets/index.html.1921de26.js"><link rel="prefetch" href="/assets/exhibition.html.7c3bcba6.js"><link rel="prefetch" href="/assets/article1.html.e25ccd82.js"><link rel="prefetch" href="/assets/article2.html.a62235d0.js"><link rel="prefetch" href="/assets/ES6.html.5f300492.js"><link rel="prefetch" href="/assets/about.html.e4fcf368.js"><link rel="prefetch" href="/assets/accuracyProblem.html.b35d83ea.js"><link rel="prefetch" href="/assets/dev.html.9cf98d51.js"><link rel="prefetch" href="/assets/disable.html.df57a2dc.js"><link rel="prefetch" href="/assets/for Js.html.04556f94.js"><link rel="prefetch" href="/assets/markdown.html.3c5fdcc8.js"><link rel="prefetch" href="/assets/mate.html.26ddddf7.js"><link rel="prefetch" href="/assets/uni-app.html.124f17d9.js"><link rel="prefetch" href="/assets/vite.html.b10e28e0.js"><link rel="prefetch" href="/assets/å¼€å‘è§„èŒƒ.html.06eb22fa.js"><link rel="prefetch" href="/assets/æ–‡ä»¶èµ„æºå¤„ç†.html.b7271889.js"><link rel="prefetch" href="/assets/index.html.d7b86d13.js"><link rel="prefetch" href="/assets/index.html.0574a743.js"><link rel="prefetch" href="/assets/disable.html.6a3039ee.js"><link rel="prefetch" href="/assets/encrypt.html.7dc7b4ad.js"><link rel="prefetch" href="/assets/markdown.html.f00933f3.js"><link rel="prefetch" href="/assets/page.html.f1eff931.js"><link rel="prefetch" href="/assets/404.html.f49151ae.js"><link rel="prefetch" href="/assets/index.html.5cab774b.js"><link rel="prefetch" href="/assets/index.html.9408c217.js"><link rel="prefetch" href="/assets/index.html.685b1ecd.js"><link rel="prefetch" href="/assets/index.html.f6ed797e.js"><link rel="prefetch" href="/assets/index.html.2a6507db.js"><link rel="prefetch" href="/assets/index.html.b6cb5415.js"><link rel="prefetch" href="/assets/index.html.469c0dba.js"><link rel="prefetch" href="/assets/index.html.66a0103c.js"><link rel="prefetch" href="/assets/index.html.bc472581.js"><link rel="prefetch" href="/assets/index.html.4ba9f02e.js"><link rel="prefetch" href="/assets/index.html.af314ba6.js"><link rel="prefetch" href="/assets/index.html.9b296672.js"><link rel="prefetch" href="/assets/index.html.138edc91.js"><link rel="prefetch" href="/assets/index.html.ccaa707d.js"><link rel="prefetch" href="/assets/index.html.925fbd37.js"><link rel="prefetch" href="/assets/index.html.ed2ffe43.js"><link rel="prefetch" href="/assets/index.html.9e064ca2.js"><link rel="prefetch" href="/assets/index.html.e470fb26.js"><link rel="prefetch" href="/assets/exhibition.html.d37741ab.js"><link rel="prefetch" href="/assets/article1.html.d3d88369.js"><link rel="prefetch" href="/assets/article2.html.db46c760.js"><link rel="prefetch" href="/assets/ES6.html.a6ee031a.js"><link rel="prefetch" href="/assets/about.html.cad3316f.js"><link rel="prefetch" href="/assets/accuracyProblem.html.869f4f46.js"><link rel="prefetch" href="/assets/dev.html.d341ca06.js"><link rel="prefetch" href="/assets/disable.html.f80a7ab8.js"><link rel="prefetch" href="/assets/for Js.html.464540f4.js"><link rel="prefetch" href="/assets/markdown.html.833faafd.js"><link rel="prefetch" href="/assets/mate.html.e4fea004.js"><link rel="prefetch" href="/assets/uni-app.html.a406fd05.js"><link rel="prefetch" href="/assets/vite.html.96263559.js"><link rel="prefetch" href="/assets/å¼€å‘è§„èŒƒ.html.16b68a38.js"><link rel="prefetch" href="/assets/æ–‡ä»¶èµ„æºå¤„ç†.html.4fab26df.js"><link rel="prefetch" href="/assets/index.html.685d505d.js"><link rel="prefetch" href="/assets/index.html.c8750ae6.js"><link rel="prefetch" href="/assets/disable.html.13e5ec24.js"><link rel="prefetch" href="/assets/encrypt.html.4ae2c2f7.js"><link rel="prefetch" href="/assets/markdown.html.68fd329f.js"><link rel="prefetch" href="/assets/page.html.efa9d400.js"><link rel="prefetch" href="/assets/404.html.23f43574.js"><link rel="prefetch" href="/assets/index.html.d54219b6.js"><link rel="prefetch" href="/assets/index.html.0e16825d.js"><link rel="prefetch" href="/assets/index.html.386fee97.js"><link rel="prefetch" href="/assets/index.html.c453aace.js"><link rel="prefetch" href="/assets/index.html.fc7e8dc1.js"><link rel="prefetch" href="/assets/index.html.ec80d5f1.js"><link rel="prefetch" href="/assets/index.html.ca3f44f8.js"><link rel="prefetch" href="/assets/index.html.1ac8d2ff.js"><link rel="prefetch" href="/assets/index.html.8c069d41.js"><link rel="prefetch" href="/assets/index.html.b378ec8b.js"><link rel="prefetch" href="/assets/index.html.569b0bce.js"><link rel="prefetch" href="/assets/index.html.9c1a8c9b.js"><link rel="prefetch" href="/assets/index.html.27ee087b.js"><link rel="prefetch" href="/assets/index.html.a5b1619e.js"><link rel="prefetch" href="/assets/index.html.942dcee1.js"><link rel="prefetch" href="/assets/index.html.45dadf0c.js"><link rel="prefetch" href="/assets/index.html.bc95a565.js"><link rel="prefetch" href="/assets/404.1ac106f0.js"><link rel="prefetch" href="/assets/Layout.75d0eab9.js"><link rel="prefetch" href="/assets/Slide.65ecd7b6.js"><link rel="prefetch" href="/assets/Blog.04f11699.js"><link rel="prefetch" href="/assets/auto.esm.36809f22.js"><link rel="prefetch" href="/assets/index.daae04bf.js"><link rel="prefetch" href="/assets/index.1842ee54.js"><link rel="prefetch" href="/assets/mermaid.esm.min.d8b76e20.js"><link rel="prefetch" href="/assets/highlight.esm.d982e650.js"><link rel="prefetch" href="/assets/markdown.esm.832a189d.js"><link rel="prefetch" href="/assets/math.esm.a3f84b6f.js"><link rel="prefetch" href="/assets/notes.esm.3c361cb7.js"><link rel="prefetch" href="/assets/reveal.esm.b96f05d8.js"><link rel="prefetch" href="/assets/search.esm.80da4a02.js"><link rel="prefetch" href="/assets/zoom.esm.8514a202.js"><link rel="prefetch" href="/assets/photoswipe.esm.92018b73.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="K"><!----><span class="site-name hide-in-pad">K</span></a><!----></div><div class="navbar-center"><!----><!----><!----></div><div class="navbar-right"><!----><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/docs/about.html" class="nav-link" aria-label="ğŸ‰æ–‡æ¡£"><!---->ğŸ‰æ–‡æ¡£<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="ğŸª‚ç»„ä»¶"><span class="title"><!---->ğŸª‚ç»„ä»¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/components/article1.html" class="nav-link" aria-label="æ–‡ç«  1"><span class="icon iconfont icon-edit" style=""></span>æ–‡ç«  1<!----></a></li><li class="dropdown-item"><a href="/components/article2.html" class="nav-link" aria-label="æ–‡ç«  2"><span class="icon iconfont icon-edit" style=""></span>æ–‡ç«  2<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/log/" class="nav-link" aria-label="ğŸªµæ›´æ–°æ—¥å¿—"><!---->ğŸªµæ›´æ–°æ—¥å¿—<!----></a></div></nav><!----><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><div class="nav-item"><a class="repo-link" href="https://github.com/Kiyan-a" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><a href="/docs/" class="title">ğŸ‰æ–‡æ¡£</a><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/docs/disable.html" class="nav-link sidebar-link sidebar-page" aria-label="å¸ƒå±€ä¸åŠŸèƒ½ç¦ç”¨"><span class="icon iconfont icon-config" style=""></span>å¸ƒå±€ä¸åŠŸèƒ½ç¦ç”¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/markdown.html" class="nav-link sidebar-link sidebar-page" aria-label="Markdown å±•ç¤º"><span class="icon iconfont icon-markdown" style=""></span>Markdown å±•ç¤º<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/for%20Js.html" class="nav-link sidebar-link sidebar-page" aria-label="âœï¸ JS æŠ€å·§"><!---->âœï¸ JS æŠ€å·§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/accuracyProblem.html" class="nav-link sidebar-link sidebar-page" aria-label="âœï¸ JS ç²¾åº¦é—®é¢˜"><!---->âœï¸ JS ç²¾åº¦é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/%E6%96%87%E4%BB%B6%E8%B5%84%E6%BA%90%E5%A4%84%E7%90%86.html" class="nav-link sidebar-link sidebar-page" aria-label="âœï¸ æ–‡ä»¶èµ„æºå¤„ç†"><!---->âœï¸ æ–‡ä»¶èµ„æºå¤„ç†<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/mate.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ‘‘ æ–°çš„ Vue é¡¹ç›®"><!---->ğŸ‘‘ æ–°çš„ Vue é¡¹ç›®<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/ES6.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ“– ES6"><!---->ğŸ“– ES6<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/uni-app.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ“– uni-app"><!---->ğŸ“– uni-app<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/vite.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ“– Vite åŸºæœ¬ä½¿ç”¨"><!---->ğŸ“– Vite åŸºæœ¬ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/docs/vue3.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="ğŸ“– Vue 3"><!---->ğŸ“– Vue 3<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#setup-çš„å‚æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="setup çš„å‚æ•°"><!---->setup çš„å‚æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#v-bind" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="v-bind"><!---->v-bind<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#node-api-æ”¯æŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Node API æ”¯æŒ"><!---->Node API æ”¯æŒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ç»„ä»¶ä¼ å‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»„ä»¶ä¼ å‚"><!---->ç»„ä»¶ä¼ å‚<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#useslots-and-useattrs-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-no-ç¼–è¯‘å™¨å®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="useSlots and useAttrs åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(no ç¼–è¯‘å™¨å®)"><!---->useSlots and useAttrs åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(no ç¼–è¯‘å™¨å®)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#defineexpose" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="defineExpose"><!---->defineExpose<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#v-for-ä¸­çš„æ¨¡æ¿å¼•ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="v-for ä¸­çš„æ¨¡æ¿å¼•ç”¨#"><!---->v-for ä¸­çš„æ¨¡æ¿å¼•ç”¨#<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#toref" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="toRef"><!---->toRef<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ref" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ref"><!---->ref<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#reactive" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="reactive"><!---->reactive<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#await-çš„æ”¯æŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="await çš„æ”¯æŒ"><!---->await çš„æ”¯æŒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#vue-router4-x" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Vue-router4.X"><!---->Vue-router4.X<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#watch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watch"><!---->watch<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#watcheffect-ç›‘å¬å›è°ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="watchEffect ç›‘å¬å›è°ƒ"><!---->watchEffect ç›‘å¬å›è°ƒ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#åœæ­¢ä¾¦å¬å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åœæ­¢ä¾¦å¬å™¨"><!---->åœæ­¢ä¾¦å¬å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#isref" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="isRef"><!---->isRef<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#isreactive" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="isReactive"><!---->isReactive<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#isproxy" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="isProxy"><!---->isProxy<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#hook-ç”Ÿå‘½å‘¨æœŸäº‹ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="hook ç”Ÿå‘½å‘¨æœŸäº‹ä»¶"><!---->hook ç”Ÿå‘½å‘¨æœŸäº‹ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ä¸º-provide-inject-æ ‡æ³¨ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸º provide / inject æ ‡æ³¨ç±»å‹#"><!---->ä¸º provide / inject æ ‡æ³¨ç±»å‹#<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹"><!---->ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#v-if-å’Œ-v-for" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="v-if å’Œ v-for"><!---->v-if å’Œ v-for<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#åŠ¨æ€ç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åŠ¨æ€ç»„ä»¶"><!---->åŠ¨æ€ç»„ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ä¾èµ–æ³¨å…¥" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¾èµ–æ³¨å…¥"><!---->ä¾èµ–æ³¨å…¥<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ç»„åˆå¼å‡½æ•°-hook" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»„åˆå¼å‡½æ•°(hook)"><!---->ç»„åˆå¼å‡½æ•°(hook)<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ä»€ä¹ˆæ˜¯-ç»„åˆå¼å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä»€ä¹ˆæ˜¯â€œç»„åˆå¼å‡½æ•°â€ï¼Ÿ"><!---->ä»€ä¹ˆæ˜¯â€œç»„åˆå¼å‡½æ•°â€ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#vue-ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Vue ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼"><!---->Vue ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#è‡ªå®šä¹‰æŒ‡ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå®šä¹‰æŒ‡ä»¤"><!---->è‡ªå®šä¹‰æŒ‡ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#æ’ä»¶-vue-use" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ’ä»¶ Vue.use"><!---->æ’ä»¶ Vue.use<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ts-æ‰©å±•å…¨å±€å±æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="TS æ‰©å±•å…¨å±€å±æ€§"><!---->TS æ‰©å±•å…¨å±€å±æ€§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#transition-ç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="&lt;Transition&gt; ç»„ä»¶"><!---->&lt;Transition&gt; ç»„ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#ç”¨å“åº”å¼-api-åšç®€å•çŠ¶æ€ç®¡ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç”¨å“åº”å¼ API åšç®€å•çŠ¶æ€ç®¡ç†"><!---->ç”¨å“åº”å¼ API åšç®€å•çŠ¶æ€ç®¡ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#æ¨¡æ¿-vs-æ¸²æŸ“å‡½æ•°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¨¡æ¿ vs. æ¸²æŸ“å‡½æ•°"><!---->æ¨¡æ¿ vs. æ¸²æŸ“å‡½æ•°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/docs/vue3.html#å–æ¶ˆ-native-ä¿®é¥°ç¬¦" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å–æ¶ˆ .native ä¿®é¥°ç¬¦"><!---->å–æ¶ˆ .native ä¿®é¥°ç¬¦<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/docs/dev.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ“– è°ƒè¯•æŠ€å·§"><!---->ğŸ“– è°ƒè¯•æŠ€å·§<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/about.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ¦š å…³äº"><!---->ğŸ¦š å…³äº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/docs/%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83.html" class="nav-link sidebar-link sidebar-page" aria-label="ğŸ› ï¸ å¼€å‘è§„èŒƒ"><!---->ğŸ› ï¸ å¼€å‘è§„èŒƒ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">ğŸª‚ç»„ä»¶</span><span class="arrow right"></span></button><!----></section><!--]--></li><li><!--[--><a href="/exhibition.html" class="nav-link sidebar-link sidebar-page" aria-label="å¹»ç¯ç‰‡"><!---->å¹»ç¯ç‰‡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->ğŸ“– Vue 3</h1><!----><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#setup-çš„å‚æ•°" class="router-link-active router-link-exact-active toc-link level3">setup çš„å‚æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#v-bind" class="router-link-active router-link-exact-active toc-link level3">v-bind</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#node-api-æ”¯æŒ" class="router-link-active router-link-exact-active toc-link level3">Node API æ”¯æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ç»„ä»¶ä¼ å‚" class="router-link-active router-link-exact-active toc-link level3">ç»„ä»¶ä¼ å‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#useslots-and-useattrs-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-no-ç¼–è¯‘å™¨å®" class="router-link-active router-link-exact-active toc-link level3">useSlots and useAttrs åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(no ç¼–è¯‘å™¨å®)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#defineexpose" class="router-link-active router-link-exact-active toc-link level3">defineExpose</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#v-for-ä¸­çš„æ¨¡æ¿å¼•ç”¨" class="router-link-active router-link-exact-active toc-link level2">v-for ä¸­çš„æ¨¡æ¿å¼•ç”¨#</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#toref" class="router-link-active router-link-exact-active toc-link level3">toRef</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ref" class="router-link-active router-link-exact-active toc-link level3">ref</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#reactive" class="router-link-active router-link-exact-active toc-link level3">reactive</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#await-çš„æ”¯æŒ" class="router-link-active router-link-exact-active toc-link level3">await çš„æ”¯æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#vue-router4-x" class="router-link-active router-link-exact-active toc-link level3">Vue-router4.X</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#watch" class="router-link-active router-link-exact-active toc-link level3">watch</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#watcheffect-ç›‘å¬å›è°ƒ" class="router-link-active router-link-exact-active toc-link level3">watchEffect ç›‘å¬å›è°ƒ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#åœæ­¢ä¾¦å¬å™¨" class="router-link-active router-link-exact-active toc-link level2">åœæ­¢ä¾¦å¬å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#isref" class="router-link-active router-link-exact-active toc-link level3">isRef</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#isreactive" class="router-link-active router-link-exact-active toc-link level3">isReactive</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#isproxy" class="router-link-active router-link-exact-active toc-link level3">isProxy</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#hook-ç”Ÿå‘½å‘¨æœŸäº‹ä»¶" class="router-link-active router-link-exact-active toc-link level3">hook ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ä¸º-provide-inject-æ ‡æ³¨ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">ä¸º provide / inject æ ‡æ³¨ç±»å‹#</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#v-if-å’Œ-v-for" class="router-link-active router-link-exact-active toc-link level3">v-if å’Œ v-for</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#åŠ¨æ€ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level3">åŠ¨æ€ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ä¾èµ–æ³¨å…¥" class="router-link-active router-link-exact-active toc-link level3">ä¾èµ–æ³¨å…¥</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ç»„åˆå¼å‡½æ•°-hook" class="router-link-active router-link-exact-active toc-link level2">ç»„åˆå¼å‡½æ•°(hook)</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ä»€ä¹ˆæ˜¯-ç»„åˆå¼å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯â€œç»„åˆå¼å‡½æ•°â€ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#vue-ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">Vue ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#è‡ªå®šä¹‰æŒ‡ä»¤" class="router-link-active router-link-exact-active toc-link level3">è‡ªå®šä¹‰æŒ‡ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#æ’ä»¶-vue-use" class="router-link-active router-link-exact-active toc-link level3">æ’ä»¶ Vue.use</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ts-æ‰©å±•å…¨å±€å±æ€§" class="router-link-active router-link-exact-active toc-link level3">TS æ‰©å±•å…¨å±€å±æ€§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#transition-ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level3">&lt;Transition&gt; ç»„ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#ç”¨å“åº”å¼-api-åšç®€å•çŠ¶æ€ç®¡ç†" class="router-link-active router-link-exact-active toc-link level3">ç”¨å“åº”å¼ API åšç®€å•çŠ¶æ€ç®¡ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#æ¨¡æ¿-vs-æ¸²æŸ“å‡½æ•°" class="router-link-active router-link-exact-active toc-link level3">æ¨¡æ¿ vs. æ¸²æŸ“å‡½æ•°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/docs/vue3.html#å–æ¶ˆ-native-ä¿®é¥°ç¬¦" class="router-link-active router-link-exact-active toc-link level3">å–æ¶ˆ .native ä¿®é¥°ç¬¦</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="ğŸ“–-vue-3" tabindex="-1"><a class="header-anchor" href="#ğŸ“–-vue-3" aria-hidden="true">#</a> ğŸ“– Vue 3</h1><blockquote><p>setup<code>æ˜¯æ‰€æœ‰</code>Composition API<code>çš„å®¹å™¨ï¼Œå€¼ä¸ºä¸€ä¸ªå‡½æ•°ã€‚ç»„ä»¶ä¸­æ‰€ç”¨åˆ°çš„æ•°æ®ã€æ–¹æ³•ç­‰ç­‰ï¼Œå‡è¦é…ç½®åœ¨</code>setup<code>ä¸­ï¼Œå®ƒä¼šåœ¨</code>beforeCreate<code>ä¹‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œæ³¨æ„ï¼š</code>V3<code>é‡Œ</code>this<code>ä¸å†æ˜¯æŒ‡å‘</code>Vue<code>å®ä¾‹ï¼Œè®¿é—®</code>this<code>ä¼šæ˜¯</code>undefined</p><p><code>VUE2</code>é…ç½®ã€<code>data</code>ã€<code>methos</code>ã€<code>computed</code>...ã€‘ä¸­å¯ä»¥è®¿é—®åˆ°<code>setup</code>ä¸­çš„å±æ€§ã€æ–¹æ³• ä½†åœ¨<code>setup</code>ä¸­ä¸èƒ½è®¿é—®åˆ°<code>VUE2</code>é…ç½®ã€<code>data</code>ã€<code>methos</code>ã€<code>computed</code>...ã€‘ è‹¥å­˜åœ¨é‡å, <code>setup</code>ä¼˜å…ˆï¼Œ<strong>ç”Ÿå‘½å‘¨æœŸå…¨éƒ½å†™åœ¨<code>setup</code>ä¸­</strong></p></blockquote><h3 id="setup-çš„å‚æ•°" tabindex="-1"><a class="header-anchor" href="#setup-çš„å‚æ•°" aria-hidden="true">#</a> setup çš„å‚æ•°</h3><ul><li>propsï¼šå€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œ<strong>ä¸”ç»„ä»¶å†…éƒ¨å£°æ˜æ¥æ”¶äº†çš„å±æ€§</strong></li><li>contextï¼š<strong>ä¸Šä¸‹æ–‡å¯¹è±¡</strong><ul><li>attrs: å€¼ä¸ºå¯¹è±¡ï¼ŒåŒ…å«ç»„ä»¶å¤–éƒ¨ä¼ é€’è¿‡æ¥ï¼Œä½†æ²¡æœ‰åœ¨<code>props</code>é…ç½®ä¸­å£°æ˜çš„å±æ€§, ç›¸å½“äº<code>this.$attrs</code></li><li>slots: æ”¶åˆ°çš„æ’æ§½å†…å®¹, ç›¸å½“äº<code>this.$slots</code></li><li>emit: åˆ†å‘è‡ªå®šä¹‰äº‹ä»¶çš„å‡½æ•°, ç›¸å½“äº<code>this.$emit</code></li></ul></li></ul><p>å‰è¨€ï¼š<code>&lt;script setup&gt;</code> æ˜¯ä¸€ç§<strong>ç¼–è¯‘æ—¶çš„è¯­æ³•ç³–</strong>ï¼Œåœ¨æ–‡ä»¶å†…ä½¿ç”¨ Compostion API æ—¶æå¤§æé«˜å·¥ä½œæ•ˆç‡</p><p>Compostion API å†™æ³•(<strong>16 è¡Œä»£ç </strong>)</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> Foo </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;./Foo.vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	components</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		Foo</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">increment</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);">.value</span><span style="color:var(--shiki-token-keyword);">++</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> { count</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> increment };</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	&lt;</span><span style="color:var(--shiki-token-constant);">Foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">@</span><span style="color:var(--shiki-token-function);">click</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);">&quot;</span><span style="color:var(--shiki-color-text);">increment</span><span style="color:var(--shiki-color-text);">&quot;</span><span style="color:var(--shiki-color-text);">&gt;{{ count }}&lt;/</span><span style="color:var(--shiki-token-constant);">Foo</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Compostion API + setup å†™æ³•(<strong>9 è¡Œä»£ç </strong>)</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { ref } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> Foo </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;./Foo.vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">increment</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);">.value</span><span style="color:var(--shiki-token-keyword);">++</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	&lt;</span><span style="color:var(--shiki-token-constant);">Foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">@</span><span style="color:var(--shiki-token-function);">click</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);">&quot;</span><span style="color:var(--shiki-color-text);">increment</span><span style="color:var(--shiki-color-text);">&quot;</span><span style="color:var(--shiki-color-text);">&gt;{{ count }}&lt;/</span><span style="color:var(--shiki-token-constant);">Foo</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="v-bind" tabindex="-1"><a class="header-anchor" href="#v-bind" aria-hidden="true">#</a> v-bind</h3><p>åœ¨ VUE æ–‡ä»¶æ ‡ç­¾å¯ç”¨ç»„ä»¶çŠ¶æ€å¯åŠ¨çš„åŠ¨æ€ CSS å€¼</p><div class="language-vue ext-vue line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { ref } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;#FFFFFF&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">style</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">.html</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-constant);">color</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">v-bind(count</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">style</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="node-api-æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#node-api-æ”¯æŒ" aria-hidden="true">#</a> Node API æ”¯æŒ</h3><p>é»˜è®¤<code>ts</code>ä¸æ”¯æŒ node api çš„ä½¿ç”¨ï¼Œå¦‚<code>import path from &#39;path&#39;</code>,ç¼–è¾‘å™¨æç¤ºï¼šæ‰¾ä¸åˆ°è¯¥æ¨¡å—â€˜pathâ€™</p><p>è§£å†³æ–¹æ¡ˆï¼š<code>npm install @types/node -D</code></p><h3 id="ç»„ä»¶ä¼ å‚" tabindex="-1"><a class="header-anchor" href="#ç»„ä»¶ä¼ å‚" aria-hidden="true">#</a> ç»„ä»¶ä¼ å‚</h3><p>æ³¨æ„ï¼šåœ¨ setup è¯­æ³•ç³–ä¸­ï¼Œ<code>defineProps</code> <code>defineEmits</code> <code>defineExpose</code>éƒ½ä¸éœ€è¦æ‰‹åŠ¨å¼•å…¥ï¼Œç›´æ¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨å³å¯</p><h5 id="prop-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-ç¼–è¯‘å™¨å®" tabindex="-1"><a class="header-anchor" href="#prop-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-ç¼–è¯‘å™¨å®" aria-hidden="true">#</a> prop åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(<strong>ç¼–è¯‘å™¨å®</strong>)</h5><p>æ³¨æ„ï¼šæ‰€æœ‰å£°æ˜äº†çš„ propï¼Œä¸ç®¡çˆ¶ç»„ä»¶æ˜¯å¦å‘å…¶ä¼ é€’ï¼Œéƒ½å°†å‡ºç°åœ¨ <code>props</code> å¯¹è±¡ä¸­ã€‚å…¶ä¸­æœªè¢«ä¼ å…¥çš„å¯é€‰çš„ prop çš„å€¼ä¼šæ˜¯ <code>undefined</code>ã€‚</p><p>ä¼ å…¥åˆ° <code>defineProps</code> çš„é€‰é¡¹ä¼šä» <code>setup </code>ä¸­æå‡åˆ°æ¨¡å—çš„èŒƒå›´ã€‚å› æ­¤ï¼Œ<strong>ä¼ å…¥çš„é€‰é¡¹ä¸èƒ½å¼•ç”¨åœ¨ <code>setup</code> èŒƒå›´ä¸­å£°æ˜çš„å±€éƒ¨å˜é‡</strong>ã€‚è¿™æ ·åšä¼šå¼•èµ·ç¼–è¯‘é”™è¯¯ã€‚ä½†æ˜¯ï¼Œ<strong>å®ƒå¯ä»¥å¼•ç”¨å¯¼å…¥çš„ç»‘å®šï¼Œå› ä¸ºå®ƒä»¬ä¹Ÿåœ¨æ¨¡å—èŒƒå›´å†…</strong></p><p><strong>å¦‚æœéœ€è¦æ£€æµ‹ä¸€ä¸ªå¯é€‰çš„ prop æ˜¯å¦æœªè¢«ä¼ é€’ï¼Œä½ å¯ä»¥å°†å…¶é»˜è®¤å€¼è®¾ç½®ä¸ºä¸€ä¸ª Symbol</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// æ£€æµ‹æ˜¯å¦æœªè¢«ä¼ é€’</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">isAbsent</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Symbol</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-comment);">// **</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">porps</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    command</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        type</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">String</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        default</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> isAbsent </span><span style="color:var(--shiki-token-comment);">// **</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// åˆ¤æ–­æ˜¯å¦ä¼ å…¥</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);">.command </span><span style="color:var(--shiki-token-keyword);">===</span><span style="color:var(--shiki-color-text);"> isAbsent) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-comment);">// ...</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ts æ³›å‹å‡½æ•° defineProps(ç¼ºå°‘é»˜è®¤å€¼default)</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">porps</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">&lt;{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        command</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }&gt;()</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// è§£å†³ç¼ºå°‘é»˜è®¤å€¼ default æ–¹æ¡ˆ</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">porps</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">withDefault</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">&lt;{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">       		command</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">String</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    	}&gt;()</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    	{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">            command</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-string-expression);">&#39;VUE_SETUP&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">// å¯¹è±¡ç±»å‹çš„é»˜è®¤å€¼</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  propE</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    type</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Object</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// å¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤å€¼</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è¿”å›ã€‚</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// è¯¥å‡½æ•°æ¥æ”¶ç»„ä»¶æ‰€æ¥æ”¶åˆ°çš„åŸå§‹ prop ä½œä¸ºå‚æ•°ã€‚</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);">(rawProps) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> { message</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);"> }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// è‡ªå®šä¹‰ç±»å‹æ ¡éªŒå‡½æ•°</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  propF</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-function);">validator</span><span style="color:var(--shiki-color-text);">(value) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-comment);">// The value must match one of these strings</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-string-expression);">&#39;success&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;warning&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;danger&#39;</span><span style="color:var(--shiki-color-text);">]</span><span style="color:var(--shiki-token-function);">.includes</span><span style="color:var(--shiki-color-text);">(value)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// å‡½æ•°ç±»å‹çš„é»˜è®¤å€¼</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  propG</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    type</span><span style="color:var(--shiki-token-punctuation);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Function</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// ä¸åƒå¯¹è±¡æˆ–æ•°ç»„çš„é»˜è®¤ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ã€‚è¿™ä¼šæ˜¯ä¸€ä¸ªç”¨æ¥ä½œä¸ºé»˜è®¤å€¼çš„å‡½æ•°</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;Default function&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ¥å£æˆ–å¯¹è±¡å­—é¢ç±»å‹å¯ä»¥åŒ…å«ä»å…¶ä»–æ–‡ä»¶å¯¼å…¥çš„ç±»å‹å¼•ç”¨ï¼Œä½†æ˜¯ï¼Œä¼ é€’ç»™ <code>defineProps</code> çš„æ³›å‹å‚æ•°æœ¬èº«<strong>ä¸èƒ½</strong>æ˜¯ä¸€ä¸ªå¯¼å…¥çš„ç±»å‹</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { Props } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;./other-file&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ä¸æ”¯æŒï¼</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-function);">Props</span><span style="color:var(--shiki-color-text);">&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯å› ä¸º Vue ç»„ä»¶æ˜¯å•ç‹¬ç¼–è¯‘çš„ï¼Œç¼–è¯‘å™¨ç›®å‰ä¸ä¼šæŠ“å–å¯¼å…¥çš„æ–‡ä»¶ä»¥åˆ†ææºç±»å‹ã€‚æˆ‘ä»¬è®¡åˆ’åœ¨æœªæ¥çš„ç‰ˆæœ¬ä¸­è§£å†³è¿™ä¸ªé™åˆ¶ã€‚</p><ol><li><p><strong>prop è¢«ç”¨äºä¼ å…¥åˆå§‹å€¼ï¼›è€Œå­ç»„ä»¶æƒ³åœ¨ä¹‹åå°†å…¶ä½œä¸ºä¸€ä¸ªå±€éƒ¨æ•°æ®å±æ€§</strong>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€å¥½æ˜¯æ–°å®šä¹‰ä¸€ä¸ªå±€éƒ¨æ•°æ®å±æ€§ï¼Œä» props ä¸Šè·å–åˆå§‹å€¼å³å¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">([</span><span style="color:var(--shiki-token-string-expression);">&#39;initialCounter&#39;</span><span style="color:var(--shiki-color-text);">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// è®¡æ•°å™¨åªæ˜¯å°† props.initialCounter ä½œä¸ºåˆå§‹å€¼</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// åƒä¸‹é¢è¿™æ ·åšå°±ä½¿ prop å’Œåç»­æ›´æ–°æ— å…³äº†</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">counter</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);">.initialCounter);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>éœ€è¦å¯¹ä¼ å…¥çš„ prop å€¼åšè¿›ä¸€æ­¥çš„è½¬æ¢</strong>ã€‚åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œ<code>æœ€å¥½æ˜¯åŸºäºè¯¥ prop å€¼å®šä¹‰ä¸€ä¸ªè®¡ç®—å±æ€§</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">defineProps</span><span style="color:var(--shiki-color-text);">([</span><span style="color:var(--shiki-token-string-expression);">&#39;size&#39;</span><span style="color:var(--shiki-color-text);">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// è¯¥ prop å˜æ›´æ—¶è®¡ç®—å±æ€§ä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°.ğŸ“¦</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">normalizedSize</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">computed</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">size</span><span style="color:var(--shiki-token-function);">.trim</span><span style="color:var(--shiki-color-text);">()</span><span style="color:var(--shiki-token-function);">.toLowerCase</span><span style="color:var(--shiki-color-text);">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h5 id="emit-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-ç¼–è¯‘å™¨å®" tabindex="-1"><a class="header-anchor" href="#emit-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-ç¼–è¯‘å™¨å®" aria-hidden="true">#</a> emit åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(<strong>ç¼–è¯‘å™¨å®</strong>)</h5><p>æ³¨æ„ï¼šdefineEmits å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥æ˜¯å°é©¼å³°æˆ–å…¨éƒ¨å°å†™ï¼Œä½†æ˜¯<strong>åœ¨ç»‘å®šçš„è‡ªå®šä¹‰äº‹ä»¶å®šä¹‰æ—¶ï¼Œåº”å…¨éƒ¨å°å†™ï¼Œå¦‚<code>@set-name</code></strong></p><p>åœ¨ç»„ä»¶çš„æ¨¡æ¿è¡¨è¾¾å¼ä¸­ï¼Œå¯ç›´æ¥ä½¿ç”¨ <code>$emit</code> æ–¹æ³•è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ ä¾‹å¦‚ï¼š<code>&lt;button @click=&quot;$emit(&#39;someEvent&#39;)&quot;&gt;click me&lt;/button&gt;</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å®šä¹‰</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">emits</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">defineEmits</span><span style="color:var(--shiki-color-text);">([</span><span style="color:var(--shiki-token-string-expression);">&#39;switchForm&#39;</span><span style="color:var(--shiki-color-text);">])</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// è§¦å‘ emits(&#39;äº‹ä»¶å&#39;,å‚æ•°)</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">emits</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;switchForm&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-token-constant);">true</span><span style="color:var(--shiki-color-text);">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ts ç±»å‹å£°æ˜</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">emits</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> defineEmits</span><span style="color:var(--shiki-token-keyword);">&lt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      		{	</span><span style="color:var(--shiki-token-comment);">// e:äº‹ä»¶å,arg:å‚æ•°</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">                (e</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-string-expression);">&#39;switchForm&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);">arg</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-constant);">boolean</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-constant);">void</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">            }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      &gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ç»„ä»¶è§¦å‘çš„äº‹ä»¶<strong>æ²¡æœ‰å†’æ³¡æœºåˆ¶</strong>ã€‚ä½ åªèƒ½ç›‘å¬ç›´æ¥å­ç»„ä»¶è§¦å‘çš„äº‹ä»¶ã€‚å¹³çº§ç»„ä»¶æˆ–æ˜¯è·¨è¶Šå¤šå±‚åµŒå¥—çš„ç»„ä»¶é—´é€šä¿¡ï¼Œåº”ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„äº‹ä»¶æ€»çº¿ï¼Œæˆ–æ˜¯ä½¿ç”¨ä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç†æ–¹æ¡ˆ</p><p>å¦‚æœä¸€ä¸ªåŸç”Ÿäº‹ä»¶çš„åå­— (ä¾‹å¦‚ <code>click</code>) è¢«å®šä¹‰åœ¨ <code>emits</code> é€‰é¡¹ä¸­ï¼Œåˆ™ç›‘å¬å™¨åªä¼šç›‘å¬ç»„ä»¶è§¦å‘çš„ <code>click</code> äº‹ä»¶è€Œä¸ä¼šå†å“åº”åŸç”Ÿçš„ <code>click</code> äº‹ä»¶ã€‚</p></blockquote><p>è¿™ä¸ª <code>emits</code> é€‰é¡¹è¿˜æ”¯æŒå¯¹è±¡è¯­æ³•ï¼Œå®ƒå…è®¸æˆ‘ä»¬å¯¹è§¦å‘äº‹ä»¶çš„å‚æ•°è¿›è¡ŒéªŒè¯ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">const emit = defineEmits({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">submit</span><span style="color:var(--shiki-color-text);">(payload) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// é€šè¿‡è¿”å›å€¼ä¸º `true` è¿˜æ˜¯ä¸º `false` æ¥åˆ¤æ–­</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// éªŒè¯æ˜¯å¦é€šè¿‡</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="useslots-and-useattrs-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-no-ç¼–è¯‘å™¨å®" tabindex="-1"><a class="header-anchor" href="#useslots-and-useattrs-åœ¨-setup-è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨-no-ç¼–è¯‘å™¨å®" aria-hidden="true">#</a> useSlots and useAttrs åœ¨ setup è¯­æ³•ç³–ä¸­çš„ä½¿ç”¨(<strong>no ç¼–è¯‘å™¨å®</strong>)</h3><p>useSlots and prop ç›¸åŒç‚¹ï¼š1ã€éƒ½æ˜¯å‘ç”Ÿåœ¨å­˜åœ¨äºçˆ¶å­ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼›2ã€éƒ½æ˜¯ä¸ºåº”å¯¹çˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„åœºåˆ</p><p>åŒºåˆ«ä¸€ï¼š</p><p>prop è®¾è®¡æ€æƒ³æ˜¯ä¼ é€’<strong>çŠ¶æ€æ•°æ®</strong></p><p>slot è®¾è®¡æ€æƒ³æ˜¯ä¼ é€’<strong>DOM èŠ‚ç‚¹</strong></p><p>åŒºåˆ«äºŒï¼š</p><p>çˆ¶ç»„ä»¶åœ¨è°ƒç”¨å­ç»„ä»¶æ—¶ï¼Œå£°æ˜å¹¶èµ‹å€¼ä¼ é€’åˆ°å­ç»„ä»¶çš„ porp åˆ—è¡¨ä¸­ï¼Œå­ç»„ä»¶<strong>æ¥å—</strong>å¹¶ä½¿ç”¨ï¼Œä½†æ˜¯<strong>ä¸€æ—¦ä¼ é€’è¿‡æ¥ä½œç”¨åŸŸå°±å‘ç”Ÿäº†å˜åŒ–</strong>ï¼›</p><p>å­ç»„ä»¶è™½ç„¶ä¸ºè°ƒç”¨è€…é¢„ç•™ slotï¼Œä½†æ˜¯ <strong>slot çš„ä½œç”¨åŸŸä¾ç„¶å±äºçˆ¶ç»„ä»¶ï¼Œæ‰€ä»¥å¯ä»¥è®¿é—®åˆ°çˆ¶ç»„ä»¶å†…çš„æ‰€æœ‰çŠ¶æ€</strong></p><p>æ’æ§½å†…å®¹å¯ä»¥è®¿é—®åˆ°çˆ¶ç»„ä»¶çš„æ•°æ®ä½œç”¨åŸŸï¼Œå› ä¸ºæ’æ§½å†…å®¹æœ¬èº«æ˜¯åœ¨çˆ¶ç»„ä»¶æ¨¡æ¿ä¸­å®šä¹‰çš„ã€‚ä¸¾ä¾‹æ¥è¯´ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;{{ message }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">// è®¿é—®çˆ¶ç»„ä»¶çš„å“åº”å¼æ•°æ®</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">FancyButton</span><span style="color:var(--shiki-color-text);">&gt;{{ message }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">FancyButton</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šslot æ’æ§½åªèƒ½åœ¨<code>template</code>ä¸­ä½¿ç”¨ï¼Œ<code>v-slot=&#39;name&#39;</code> or <code>#name</code></p><h6 id="useslots" tabindex="-1"><a class="header-anchor" href="#useslots" aria-hidden="true">#</a> useSlots</h6><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { useSlots } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">slots</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useSlots</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">consolve</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">slots</span><span style="color:var(--shiki-color-text);">.name </span><span style="color:var(--shiki-token-keyword);">&amp;&amp;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">slots</span><span style="color:var(--shiki-token-function);">.name</span><span style="color:var(--shiki-color-text);">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="useattrs-è·å–æœªæ¥å—çš„-å±æ€§-prop-ä»¥åŠäº‹ä»¶-event" tabindex="-1"><a class="header-anchor" href="#useattrs-è·å–æœªæ¥å—çš„-å±æ€§-prop-ä»¥åŠäº‹ä»¶-event" aria-hidden="true">#</a> useAttrs (è·å–æœªæ¥å—çš„ å±æ€§ prop ä»¥åŠäº‹ä»¶ event)</h6><p>æœªæ¥å—ï¼šæ²¡æœ‰è¢« prop æ¥å—çš„å±æ€§ä»¥åŠäº‹ä»¶ event</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { useAttrs } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">attrs</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useAttrs</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">consolve</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">slots</span><span style="color:var(--shiki-color-text);">.name </span><span style="color:var(--shiki-token-keyword);">&amp;&amp;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">slots</span><span style="color:var(--shiki-token-function);">.name</span><span style="color:var(--shiki-color-text);">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="defineexpose" tabindex="-1"><a class="header-anchor" href="#defineexpose" aria-hidden="true">#</a> defineExpose</h3><p><strong>çˆ¶ç»„ä»¶æ˜¯æ— æ³•ä»å­ç»„ä»¶çš„å®ä¾‹ä¸­è·å–å…¶å±æ€§ or æ–¹æ³•</strong>ï¼Œè§£å†³æ–¹æ¡ˆï¼šå­ç»„ä»¶ä½¿ç”¨<code>defineExpose</code>å¯¹å¤–æš´éœ²è‡ªèº«çš„å±æ€§ or æ–¹æ³•</p><p>æ¨¡æ¿å¼•ç”¨ä¹Ÿå¯ä»¥è¢«ç”¨åœ¨ä¸€ä¸ªå­ç»„ä»¶ä¸Šã€‚è¿™ç§æƒ…å†µä¸‹å¼•ç”¨ä¸­è·å¾—çš„å€¼çš„æ˜¯ç»„ä»¶å®ä¾‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> onMounted } from &#39;vue&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import Child from &#39;./Child.vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">const child = ref(null)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">onMounted(() =&gt; {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// child.value æ˜¯ &lt;Child /&gt; ç»„ä»¶çš„å®ä¾‹</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-constant);">Child</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;child&quot;</span><span style="color:var(--shiki-color-text);"> /&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¦‚æœä¸€ä¸ªå­ç»„ä»¶ä½¿ç”¨çš„æ˜¯<strong>é€‰é¡¹å¼ API æˆ–æ²¡æœ‰ä½¿ç”¨ <code>&lt;script setup&gt;**</code>ï¼Œè¢«å¼•ç”¨çš„ç»„ä»¶å®ä¾‹å’Œè¯¥å­ç»„ä»¶çš„ <code>this</code> å®Œå…¨ä¸€è‡´ï¼Œè¿™æ„å‘³ç€çˆ¶ç»„ä»¶å¯¹å­ç»„ä»¶çš„æ¯ä¸€ä¸ªå±æ€§å’Œæ–¹æ³•éƒ½æœ‰</strong>å®Œå…¨çš„è®¿é—®æƒ**ã€‚è¿™ä½¿å¾—åœ¨çˆ¶ç»„ä»¶å’Œå­ç»„ä»¶ä¹‹é—´åˆ›å»ºç´§å¯†è€¦åˆçš„å®ç°ç»†èŠ‚å˜å¾—å¾ˆå®¹æ˜“ï¼Œå½“ç„¶ä¹Ÿå› æ­¤ï¼Œåº”è¯¥åªåœ¨ç»å¯¹éœ€è¦æ—¶æ‰ä½¿ç”¨ç»„ä»¶å¼•ç”¨ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ <strong>åº”è¯¥é¦–å…ˆä½¿ç”¨æ ‡å‡†çš„ props å’Œ emit æ¥å£æ¥å®ç°çˆ¶å­ç»„ä»¶äº¤äº’ã€‚</strong></p></blockquote><p>æœ‰ä¸€ä¸ªä¾‹å¤–çš„æƒ…å†µï¼Œä½¿ç”¨äº† <code>&lt;script setup&gt;</code> çš„ç»„ä»¶æ˜¯<strong>é»˜è®¤ç§æœ‰</strong>çš„ï¼šä¸€ä¸ªçˆ¶ç»„ä»¶æ— æ³•è®¿é—®åˆ°ä¸€ä¸ªä½¿ç”¨äº† <code>&lt;script setup&gt;</code> çš„å­ç»„ä»¶ä¸­çš„ä»»ä½•ä¸œè¥¿ï¼Œé™¤éå­ç»„ä»¶åœ¨å…¶ä¸­é€šè¿‡ <code>defineExpose</code> å®æ˜¾å¼æš´éœ²ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import {ref} from &#39;vue&#39; const a = 1 const b = ref(2) defineExpose({(a</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> b)})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“çˆ¶ç»„ä»¶é€šè¿‡æ¨¡æ¿å¼•ç”¨è·å–åˆ°äº†è¯¥ç»„ä»¶çš„å®ä¾‹æ—¶ï¼Œå¾—åˆ°çš„å®ä¾‹ç±»å‹ä¸º <code>{ a: number, b: number }</code> (ref éƒ½ä¼šè‡ªåŠ¨è§£åŒ…ï¼Œå’Œä¸€èˆ¬çš„å®ä¾‹ä¸€æ ·)ã€‚</p><p>å­ç»„ä»¶ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-function);">defineExpose</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	name</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	handle</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çˆ¶ç»„ä»¶</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">childInstance</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">&lt;{ name</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-function);">handle</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">void</span><span style="color:var(--shiki-color-text);"> } </span><span style="color:var(--shiki-token-keyword);">|</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">&gt;(</span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">el-form-item</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;childInstance&quot;</span><span style="color:var(--shiki-color-text);">&gt;&lt;/</span><span style="color:var(--shiki-token-constant);">el-form-item</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// è¿”å› Ref å¯¹è±¡(éœ€è¦.value)ã€ä¸æ¨èç›´æ¥æ“ä½œchildInstanceçŠ¶æ€ã€‘</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">childInstance</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-token-function);">?.handle</span><span style="color:var(--shiki-color-text);">()</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">childInstance</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-color-text);">?.name</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ref-dom-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#ref-dom-å®ä¾‹" aria-hidden="true">#</a> ref DOM å®ä¾‹</h4><p>ä½ ä¼šæ³¨æ„åˆ°ï¼Œæ¯å½“ç‚¹å‡»è¿™äº›æŒ‰é’®æ—¶ï¼Œæ¯ä¸€ä¸ªç»„ä»¶éƒ½ç»´æŠ¤ç€è‡ªå·±çš„çŠ¶æ€ï¼Œæ˜¯ä¸åŒçš„ <code>count</code>ã€‚è¿™æ˜¯å› ä¸ºæ¯å½“ä½ ä½¿ç”¨ä¸€ä¸ªç»„ä»¶ï¼Œå°±åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„<strong>å®ä¾‹</strong>ã€‚</p><p>å¦å¤–ï¼Œå¯ä»¥ä½¿ç”¨<code>InstanceType</code>å¯¹å£°æ˜çš„å­ç»„ä»¶å®ä¾‹è¿›è¡Œç±»å‹æ³¨è§£</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> childInstance </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;./childInstance.vue&#39;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">childInstance</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-function);">InstanceType</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-keyword);">typeof</span><span style="color:var(--shiki-color-text);"> childInstance&gt;&gt;()</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†è·å– <code>childInstance</code> çš„ç±»å‹ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦é€šè¿‡ <code>typeof</code> å¾—åˆ°å…¶ç±»å‹ï¼Œå†ä½¿ç”¨ TypeScript å†…ç½®çš„ <code>InstanceType</code> å·¥å…·ç±»å‹æ¥è·å–å…¶å®ä¾‹ç±»å‹</p><p><code>InstanceType</code>å¯ä»¥ä»æŸä¸ª<code>ç±»å‹å¦‚(typeof childInstance)</code>ä¸­<strong>è·å–åˆ°ä¸€ä¸ªå®ä¾‹çš„æ„é€ å‡½æ•°</strong>ï¼ˆæˆ–è€…è¯´è·å–ä¸€ä¸ªæ‹¥æœ‰æ„é€ å‡½æ•°çš„å®ä¾‹çš„æ„é€ å‡½æ•°ï¼‰<strong>ç±»å‹</strong></p><p>æ³¨æ„ï¼šå¯¼å…¥çš„ç»„ä»¶<code>childInstance</code>å¯¹è±¡ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>ç»„ä»¶çš„æè¿°å¯¹è±¡</strong>ï¼ˆéœ€è¦æ ¹æ®å­ç»„ä»¶çš„æè¿°å¯¹è±¡åˆ›å»ºå‡ºæ¥ä¸€ä¸ªçœŸæ­£çš„ç»„ä»¶å®ä¾‹ï¼‰ï¼Œ</p><p>å¦‚<code>InstanceType&lt;typeof childInstance&gt;</code></p><p><code>InstanceType&lt;typeof childInstance&gt;</code>çº¦ç­‰åŒäºå¯¼å…¥çš„æè¿°å¯¹è±¡<code>childInstance</code> (import childInstance from &#39;./childInstance.vue&#39;)</p><blockquote><p><code>ref</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ attributeï¼Œå’Œ <code>v-for</code> ç« èŠ‚ä¸­æåˆ°çš„ <code>key</code> ç±»ä¼¼ã€‚å®ƒå…è®¸æˆ‘ä»¬åœ¨ä¸€ä¸ªç‰¹å®šçš„ DOM å…ƒç´ æˆ–å­ç»„ä»¶å®ä¾‹è¢«æŒ‚è½½åï¼Œè·å¾—å¯¹å®ƒçš„ç›´æ¥å¼•ç”¨ã€‚è¿™å¯èƒ½å¾ˆæœ‰ç”¨ï¼Œæ¯”å¦‚è¯´åœ¨ç»„ä»¶æŒ‚è½½æ—¶å°†ç„¦ç‚¹è®¾ç½®åˆ°ä¸€ä¸ª input å…ƒç´ ä¸Šï¼Œæˆ–åœ¨ä¸€ä¸ªå…ƒç´ ä¸Šåˆå§‹åŒ–ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚</p><p><strong>æ³¨æ„ï¼šæ˜¯ DOM å…ƒç´ æˆ–å­ç»„ä»¶å®ä¾‹è¢«æŒ‚è½½åï¼Œè·å¾—å¯¹å®ƒçš„ç›´æ¥å¼•ç”¨ã€‚</strong></p></blockquote><h2 id="v-for-ä¸­çš„æ¨¡æ¿å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#v-for-ä¸­çš„æ¨¡æ¿å¼•ç”¨" aria-hidden="true">#</a> <code>v-for</code> ä¸­çš„æ¨¡æ¿å¼•ç”¨<a href="https://staging-cn.vuejs.org/guide/essentials/template-refs.html#refs-inside-v-for" target="_blank" rel="noopener noreferrer">#<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h2><blockquote><p>éœ€è¦ v3.2.25 åŠä»¥ä¸Šç‰ˆæœ¬</p></blockquote><p>å½“åœ¨ <code>v-for</code> ä¸­ä½¿ç”¨æ¨¡æ¿å¼•ç”¨æ—¶ï¼Œå¯¹åº”çš„ ref ä¸­åŒ…å«çš„å€¼æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå®ƒå°†åœ¨å…ƒç´ è¢«æŒ‚è½½ååŒ…å«å¯¹åº”æ•´ä¸ªåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´ ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> onMounted } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">const list = ref([</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  /* ... */</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">])</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">// ref å®ä¾‹</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">const itemRefs = ref([])</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">onMounted(() =&gt; console.log(itemRefs.value))</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">ul</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    &lt;</span><span style="color:var(--shiki-token-string-expression);">li</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">v-for</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;item in list&quot;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;itemRefs&quot;</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">      {{ item }}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    &lt;/</span><span style="color:var(--shiki-token-string-expression);">li</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;/</span><span style="color:var(--shiki-token-string-expression);">ul</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**åº”è¯¥æ³¨æ„çš„æ˜¯ï¼Œref æ•°ç»„å¹¶ä¸ä¿è¯ä¸æºæ•°ç»„ç›¸åŒçš„é¡ºåºã€‚**ğŸ˜</p><h3 id="toref" tabindex="-1"><a class="header-anchor" href="#toref" aria-hidden="true">#</a> toRef</h3><p>toRef ç”¨äºä¸ºæºå“åº”å¼å¯¹è±¡ä¸Šçš„å±æ€§æ–°å»ºä¸€ä¸ª refï¼Œä»è€Œä¿æŒå¯¹å…¶æºå¯¹è±¡å±æ€§å“åº”å¼çš„<code>è¿æ¥</code>ï¼Œ<strong>toRef(æºå¯¹è±¡ï¼Œå±æ€§å)</strong></p><p>æ³¨æ„ï¼š<strong>æ–°å»ºåçš„å“åº”å¼æ•°æ®</strong>ï¼Œè‹¥ä¸ºå¤æ‚ç±»å‹æ•°æ®ï¼Œæ­¤æ—¶å¹¶ä¸æ˜¯å¯¹åŸå§‹æ•°æ®çš„æ‹·è´ï¼Œè€Œæ˜¯<strong>å¼•ç”¨</strong>ï¼Œæ”¹å˜æ–°å»ºåçš„æ•°æ®ï¼ŒåŸå§‹æ•°æ®ä¹Ÿä¼šè¢«ä¿®æ”¹</p><h3 id="ref" tabindex="-1"><a class="header-anchor" href="#ref" aria-hidden="true">#</a> ref</h3><p>ref ç”¨äºä¸º<strong>æ•°æ®</strong>æ·»åŠ å“åº”å¼çŠ¶æ€</p><h3 id="reactive" tabindex="-1"><a class="header-anchor" href="#reactive" aria-hidden="true">#</a> reactive</h3><p>r<strong>eactive åªèƒ½ä¼ å…¥<code>å¯¹è±¡ç±»å‹</code>çš„å‚æ•°</strong> ï¼Œè€Œå¯¹äºåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œåªèƒ½ä½¿ç”¨ ref ä¸ºå…¶æ·»åŠ å“åº”å¼çŠ¶æ€ï¼ŒåŒæ ·è¿”å›ä¸€å…·æœ‰å“åº”å¼çŠ¶æ€çš„<code>å‰¯æœ¬</code></p><blockquote><p>æŠ€å·§ï¼šå¯¹ reactive ç±»å‹çš„æ•°æ®ä½¿ç”¨ï¼Œæ¨¡æ¿æˆ–é€»è¾‘ä»£ç ä¸­å¦‚ä½•å‡å°‘é“¾å¼æŸ¥æ‰¾ã€ä½¿ç”¨ toRefs è¿›è¡Œè§£æ„ã€‘</p><p>ä¸æ¨èä½¿ç”¨ <code>reactive()</code> çš„æ³›å‹å‚æ•°ï¼Œå› ä¸ºå¤„ç†äº†æ·±å±‚æ¬¡ ref è§£åŒ…çš„è¿”å›å€¼ä¸æ³›å‹å‚æ•°çš„ç±»å‹ä¸åŒã€‚</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">reactive</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        		attr ï¼š{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        			name</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-string-expression);">&#39;hi&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        			sex</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-token-string-expression);">&#39;å¥³&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        		}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">       		 })</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">        </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> { </span><span style="color:var(--shiki-token-keyword);">...</span><span style="color:var(--shiki-token-function);">toRefs</span><span style="color:var(--shiki-color-text);">(count) }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    }</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="await-çš„æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#await-çš„æ”¯æŒ" aria-hidden="true">#</a> await çš„æ”¯æŒ</h3><p><strong>setup è¯­æ³•ç³–ä¸­å¯ç›´æ¥ä½¿ç”¨ await ï¼Œä¸éœ€è¦å®šä¹‰ async,setup ä¼šè‡ªåŠ¨å˜æˆ async setup</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import api from &#39;../api/Api&#39; const data = await Api.getData() console.log</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	(data)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vue-router4-x" tabindex="-1"><a class="header-anchor" href="#vue-router4-x" aria-hidden="true">#</a> Vue-router4.X</h3><p>History ï¼šcreateWebHistory è·¯ç”±æ¨¡å¼è·¯å¾„ä¸å¸¦ #ï¼Œ<strong>åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®é¡¹ç›®çš„ï¼Œéœ€è¦ Nginx è½¬å‘</strong></p><p>æ³¨æ„ï¼šåœ¨ Vue3 ä¸­ï¼Œåˆ›å»ºè·¯ç”±ä¸å†éœ€è¦å®ä¾‹åŒ– new routerï¼Œç›´æ¥ä½¿ç”¨ createRouter</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { createRouter</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> createWebHistory</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> RouteRecordRaw } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue-router&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">/* or import type { RouteRecordRaw } from &#39;vue-router&#39; è¡¨ç¤ºå¯¼å…¥ä¸ºä¸€ä¸ªç±»å‹ */</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">routes</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">Array</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-function);">RouteRecordRaw</span><span style="color:var(--shiki-color-text);">&gt; </span><span style="color:var(--shiki-token-comment);">/* ç±»å‹æ³¨è§£ */</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> [</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		path</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;/&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		redirect</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;/main&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		path</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;/:pathMatch(.*)*&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		name</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;fourOfFour&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">component</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;@/components/404.vue&#39;</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">];</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">router</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">createRouter</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	history</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">createWebHistory</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">process</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">env</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">BASE_URL</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">// æ¨¡å¼è®¾ç½®</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	routes</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> router;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watch" tabindex="-1"><a class="header-anchor" href="#watch" aria-hidden="true">#</a> watch</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å¤šä¸ªæ¥æºç»„æˆçš„æ•°ç»„</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">([x</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">y</span><span style="color:var(--shiki-color-text);">.value]</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> ([newX</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> newY]) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">`x is </span><span style="color:var(--shiki-token-keyword);">${</span><span style="color:var(--shiki-color-text);">newX</span><span style="color:var(--shiki-token-keyword);">}</span><span style="color:var(--shiki-token-string-expression);"> and y is </span><span style="color:var(--shiki-token-keyword);">${</span><span style="color:var(--shiki-color-text);">newY</span><span style="color:var(--shiki-token-keyword);">}</span><span style="color:var(--shiki-token-string-expression);">`</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// getter å‡½æ•°</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">x</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">y</span><span style="color:var(--shiki-color-text);">.value</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	(sum) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">`sum of x + y is: </span><span style="color:var(--shiki-token-keyword);">${</span><span style="color:var(--shiki-color-text);">sum</span><span style="color:var(--shiki-token-keyword);">}</span><span style="color:var(--shiki-token-string-expression);">`</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œä½ ä¸èƒ½ç›´æ¥ä¾¦å¬å“åº”å¼å¯¹è±¡çš„å±æ€§å€¼ï¼Œä¾‹å¦‚:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">obj</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">reactive</span><span style="color:var(--shiki-color-text);">({ count</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// é”™è¯¯ï¼Œå› ä¸º watch() å¾—åˆ°çš„å‚æ•°æ˜¯ä¸€ä¸ª number</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">obj</span><span style="color:var(--shiki-color-text);">.count</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> (count) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">`count is: </span><span style="color:var(--shiki-token-keyword);">${</span><span style="color:var(--shiki-color-text);">count</span><span style="color:var(--shiki-token-keyword);">}</span><span style="color:var(--shiki-token-string-expression);">`</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œéœ€è¦ç”¨ä¸€ä¸ªè¿”å›è¯¥å±æ€§çš„ getter å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// æä¾›ä¸€ä¸ª getter å‡½æ•°</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">obj</span><span style="color:var(--shiki-color-text);">.count</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	(count) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">`count is: </span><span style="color:var(--shiki-token-keyword);">${</span><span style="color:var(--shiki-color-text);">count</span><span style="color:var(--shiki-token-keyword);">}</span><span style="color:var(--shiki-token-string-expression);">`</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›´æ¥ç»™ <code>watch()</code> ä¼ å…¥ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¼šéšå¼åœ°åˆ›å»ºä¸€ä¸ªæ·±å±‚ä¾¦å¬å™¨â€”â€”è¯¥å›è°ƒå‡½æ•°åœ¨æ‰€æœ‰åµŒå¥—çš„å˜æ›´æ—¶éƒ½ä¼šè¢«è§¦å‘ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">obj</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">reactive</span><span style="color:var(--shiki-color-text);">({ count</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(obj</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> (newValue</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> oldValue) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// åœ¨åµŒå¥—çš„å±æ€§å˜æ›´æ—¶è§¦å‘</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„ğŸ¦«</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// å› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼ï¼ˆæŒ‡å‘åŒä¸€ä¸ªå †åœ°å€å€¼ï¼Œåªæ˜¯å±æ€§å€¼è¢«ä¿®æ”¹ï¼‰</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-constant);">obj</span><span style="color:var(--shiki-color-text);">.count</span><span style="color:var(--shiki-token-keyword);">++</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¸€ä¸ªè¿”å›å“åº”å¼å¯¹è±¡çš„ getter å‡½æ•°ï¼Œåªæœ‰åœ¨è¿”å›ä¸åŒçš„å¯¹è±¡æ—¶ï¼Œæ‰ä¼šè§¦å‘å›è°ƒï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">state</span><span style="color:var(--shiki-color-text);">.someObject</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// ä»…å½“ state.someObject è¢«æ›¿æ¢æ—¶è§¦å‘</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½ ä¹Ÿå¯ä»¥ç»™ä¸Šé¢è¿™ä¸ªä¾‹å­æ˜¾å¼åœ°åŠ ä¸Š <code>deep</code> é€‰é¡¹ï¼Œå¼ºåˆ¶è½¬æˆæ·±å±‚ä¾¦å¬å™¨ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">state</span><span style="color:var(--shiki-color-text);">.someObject</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	(newValue</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> oldValue) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// *é™¤é* state.someObject è¢«æ•´ä¸ªæ›¿æ¢äº†</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	{ deep</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">true</span><span style="color:var(--shiki-color-text);"> }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watcheffect-ç›‘å¬å›è°ƒ" tabindex="-1"><a class="header-anchor" href="#watcheffect-ç›‘å¬å›è°ƒ" aria-hidden="true">#</a> watchEffect ç›‘å¬å›è°ƒ</h3><p><code>watch()</code> <strong>æ˜¯æ‡’æ‰§è¡Œçš„</strong>ï¼šä»…å½“æ•°æ®æºå˜åŒ–æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå›è°ƒã€‚ä½†åœ¨æŸäº›åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨<strong>åˆ›å»ºä¾¦å¬å™¨æ—¶ï¼Œç«‹å³æ‰§è¡Œä¸€éå›è°ƒ</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬æƒ³è¯·æ±‚ä¸€äº›åˆå§‹æ•°æ®ï¼Œç„¶ååœ¨ç›¸å…³çŠ¶æ€æ›´æ”¹æ—¶é‡æ–°è¯·æ±‚æ•°æ®</p><p>ä¸<code>watch</code>çš„åŒºåˆ«ï¼š<code>watch</code>æ—¢è¦æŒ‡æ˜ç›‘è§†çš„å±æ€§ and æŒ‡æ˜ç›‘è§†çš„å›è°ƒã€‚è€Œ<code>watchEffect</code>ï¼Œä¸ç”¨æŒ‡æ˜ç›‘è§†çš„å±æ€§ï¼Œç›‘è§†çš„å›è°ƒä¸­ç”¨åˆ°çš„å±æ€§ï¼Œé‚£å°±ç›‘è§†å“ªä¸ªå±æ€§ï¼Œä¸ç”¨å†™è¿”å›å€¼</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å›è°ƒä¸­ç”¨åˆ°çš„æ•°æ®åªè¦å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ç›´æ¥é‡æ–°æ‰§è¡Œå›è°ƒ</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">watchEffect</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">x1</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">sum</span><span style="color:var(--shiki-color-text);">.value;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">x2</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">person</span><span style="color:var(--shiki-color-text);">.age;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;watchEffecté…ç½®çš„å›è°ƒæ‰§è¡Œäº†&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="watch-vs-watcheffect" tabindex="-1"><a class="header-anchor" href="#watch-vs-watcheffect" aria-hidden="true">#</a> <code>watch</code> vs. <code>watchEffect</code></h4><p><code>watch</code> å’Œ <code>watchEffect</code> éƒ½èƒ½å“åº”å¼åœ°æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„å›è°ƒã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯è¿½è¸ªå“åº”å¼ä¾èµ–çš„æ–¹å¼ï¼š</p><ul><li><code>watch</code> åªè¿½è¸ªæ˜ç¡®ä¾¦å¬çš„æ•°æ®æºã€‚å®ƒä¸ä¼šè¿½è¸ªä»»ä½•åœ¨å›è°ƒä¸­è®¿é—®åˆ°çš„ä¸œè¥¿ã€‚å¦å¤–ï¼Œä»…åœ¨æ•°æ®æºç¡®å®æ”¹å˜æ—¶æ‰ä¼šè§¦å‘å›è°ƒã€‚<code>watch</code> ä¼šé¿å…åœ¨å‘ç”Ÿå‰¯ä½œç”¨æ—¶è¿½è¸ªä¾èµ–ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬<strong>èƒ½æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶å›è°ƒå‡½æ•°çš„è§¦å‘æ—¶æœº</strong>ã€‚</li><li><code>watchEffect</code>ï¼Œåˆ™ä¼šåœ¨å‰¯ä½œç”¨å‘ç”ŸæœŸé—´è¿½è¸ªä¾èµ–ã€‚å®ƒä¼šåœ¨<strong>åŒæ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼å±æ€§</strong>ã€‚è¿™<strong>æ›´æ–¹ä¾¿</strong>ï¼Œè€Œä¸”ä»£ç å¾€å¾€æ›´ç®€æ´ï¼Œ<strong>ä½†æœ‰æ—¶å…¶å“åº”æ€§ä¾èµ–å…³ç³»ä¼šä¸é‚£ä¹ˆæ˜ç¡®ã€‚</strong></li></ul><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·åˆ›å»ºçš„ä¾¦å¬å™¨å›è°ƒï¼Œéƒ½ä¼šåœ¨ Vue ç»„ä»¶æ›´æ–°<strong>ä¹‹å‰</strong>è¢«è°ƒç”¨ã€‚è¿™æ„å‘³ç€ä½ åœ¨ä¾¦å¬å™¨å›è°ƒä¸­è®¿é—®çš„ DOM å°†æ˜¯è¢« Vue æ›´æ–°ä¹‹å‰çš„çŠ¶æ€ã€‚</p><p>å¦‚æœæƒ³åœ¨ä¾¦å¬å™¨å›è°ƒä¸­èƒ½è®¿é—®è¢« Vue æ›´æ–°<strong>ä¹‹å</strong>çš„ DOMï¼Œä½ éœ€è¦æŒ‡æ˜ <code>flush: &#39;post&#39;</code> é€‰é¡¹ã€<strong>ç±»ä¼¼ nextTick</strong>ã€‘</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-function);">watch</span><span style="color:var(--shiki-color-text);">(source</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> callback</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	flush</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;post&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function);">watchEffect</span><span style="color:var(--shiki-color-text);">(callback</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	flush</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;post&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åç½®åˆ·æ–°çš„ <code>watchEffect()</code> æœ‰ä¸ªæ›´æ–¹ä¾¿çš„åˆ«å <code>watchPostEffect()</code>ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { watchPostEffect } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function);">watchPostEffect</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">/* åœ¨ Vue æ›´æ–°åæ‰§è¡Œ */</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åœæ­¢ä¾¦å¬å™¨" tabindex="-1"><a class="header-anchor" href="#åœæ­¢ä¾¦å¬å™¨" aria-hidden="true">#</a> åœæ­¢ä¾¦å¬å™¨</h2><p>åœ¨ <code>setup()</code> æˆ– <code>&lt;script setup&gt;</code> ä¸­ç”¨<strong>åŒæ­¥è¯­å¥åˆ›å»ºçš„ä¾¦å¬å™¨</strong>ï¼Œä¼šè‡ªåŠ¨ç»‘å®šåˆ°å®¿ä¸»ç»„ä»¶å®ä¾‹ä¸Šï¼Œå¹¶ä¸”ä¼šåœ¨å®¿ä¸»ç»„ä»¶å¸è½½æ—¶è‡ªåŠ¨åœæ­¢ã€‚å› æ­¤ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½ æ— éœ€å…³å¿ƒæ€ä¹ˆåœæ­¢ä¸€ä¸ªä¾¦å¬å™¨ã€‚</p><p>ä¸€ä¸ªå…³é”®ç‚¹æ˜¯ï¼Œä¾¦å¬å™¨å¿…é¡»ç”¨<strong>åŒæ­¥</strong>è¯­å¥åˆ›å»ºï¼šå¦‚æœ**ç”¨å¼‚æ­¥å›è°ƒåˆ›å»ºä¸€ä¸ªä¾¦å¬å™¨ï¼Œé‚£ä¹ˆå®ƒä¸ä¼šç»‘å®šåˆ°å½“å‰ç»„ä»¶ä¸Šï¼Œä½ å¿…é¡»æ‰‹åŠ¨åœæ­¢å®ƒï¼Œä»¥é˜²å†…å­˜æ³„æ¼ã€‚**å¦‚ä¸‹æ–¹è¿™ä¸ªä¾‹å­ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import {watchEffect} from &#39;vue&#39; // å®ƒä¼šè‡ªåŠ¨åœæ­¢ watchEffect(() =&gt; {}) //</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	...è¿™ä¸ªåˆ™ä¸ä¼šï¼ setTimeout(() =&gt; {</span><span style="color:var(--shiki-token-function);">watchEffect</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {})}, 100)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦æ‰‹åŠ¨åœæ­¢ä¸€ä¸ªä¾¦å¬å™¨ï¼Œè¯·è°ƒç”¨ <code>watch</code> æˆ– <code>watchEffect</code> è¿”å›çš„å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">unwatch</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">watchEffect</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ...å½“è¯¥ä¾¦å¬å™¨ä¸å†éœ€è¦æ—¶</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">unwatch</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="isref" tabindex="-1"><a class="header-anchor" href="#isref" aria-hidden="true">#</a> isRef</h3><p>æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª<code>ref</code>å¯¹è±¡</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">val</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;xxx&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">isRef</span><span style="color:var(--shiki-color-text);">(val); </span><span style="color:var(--shiki-token-comment);">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="isreactive" tabindex="-1"><a class="header-anchor" href="#isreactive" aria-hidden="true">#</a> isReactive</h3><p>æ£€æŸ¥ä¸€ä¸ªå€¼æ˜¯å¦ä¸ºä¸€ä¸ª<code>isReactive</code>å¯¹è±¡</p><h3 id="isproxy" tabindex="-1"><a class="header-anchor" href="#isproxy" aria-hidden="true">#</a> isProxy</h3><p>æ£€æŸ¥å¯¹è±¡æ˜¯å¦æ˜¯ç”±<code>reactive</code>æˆ–<code>readonly</code>åˆ›å»ºçš„<code>proxy</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">state</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">reactive</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	name</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;John&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">console</span><span style="color:var(--shiki-token-function);">.log</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">isProxy</span><span style="color:var(--shiki-color-text);">(state)); </span><span style="color:var(--shiki-token-comment);">// true</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="å…¨å±€-api-è°ƒæ•´" tabindex="-1"><a class="header-anchor" href="#å…¨å±€-api-è°ƒæ•´" aria-hidden="true">#</a> å…¨å±€ API è°ƒæ•´</h1><hr><p>å°†å…¨å±€çš„ APIï¼Œå³ï¼š<a href="http://Vue.xxx" target="_blank" rel="noopener noreferrer">Vue.xxx<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è°ƒæ•´åˆ°åº”ç”¨å®ä¾‹ï¼ˆappï¼‰ä¸Š</p><table><thead><tr><th>VUE 2</th><th>VUE 3</th></tr></thead><tbody><tr><td><a href="http://Vue.config.xxx" target="_blank" rel="noopener noreferrer">Vue.config.xxx<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td><td><a href="http://app.config.xxx" target="_blank" rel="noopener noreferrer">app.config.xxx<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></td></tr><tr><td>Vue.component</td><td>app.component</td></tr><tr><td>Vue.directive</td><td>app.directive</td></tr><tr><td>Vue.mixin</td><td>app.mixin</td></tr><tr><td>Vue.use</td><td>app.use</td></tr><tr><td>Vue.prototype</td><td>app.config.globalProperties</td></tr></tbody></table><h1 id="ç§»é™¤çš„-api" tabindex="-1"><a class="header-anchor" href="#ç§»é™¤çš„-api" aria-hidden="true">#</a> ç§»é™¤çš„ API</h1><hr><table><thead><tr><th>åç§°</th><th>ç°çŠ¶</th></tr></thead><tbody><tr><td>Vue.config.productionTip</td><td>å·²ç§»é™¤</td></tr><tr><td><strong>config.keyCodes</strong></td><td>å·²ç§»é™¤</td></tr><tr><td><strong>$children</strong></td><td>å·²ç§»é™¤</td></tr><tr><td><strong>$listeners</strong></td><td>å·²ç§»é™¤</td></tr><tr><td>$on</td><td>å·²ç§»é™¤</td></tr><tr><td>$off</td><td>å·²ç§»é™¤</td></tr><tr><td>$once</td><td>å·²ç§»é™¤</td></tr><tr><td><strong>filters</strong></td><td>å·²ç§»é™¤</td></tr><tr><td><strong>ç§»é™¤ api</strong></td><td>å·²ç§»é™¤</td></tr></tbody></table><h3 id="hook-ç”Ÿå‘½å‘¨æœŸäº‹ä»¶" tabindex="-1"><a class="header-anchor" href="#hook-ç”Ÿå‘½å‘¨æœŸäº‹ä»¶" aria-hidden="true">#</a> hook ç”Ÿå‘½å‘¨æœŸäº‹ä»¶</h3><p>é€šè¿‡äº‹ä»¶æ¥ç›‘å¬ç»„ä»¶ç”Ÿå‘½å‘¨æœŸä¸­çš„å…³é”®é˜¶æ®µ</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">// VUE 2</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">child-component</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">@hook:updated</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;onUpdated&quot;</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">// VUE 3</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">child-component</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">@vnode-updated</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;onUpdated&quot;</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">// é©¼å³°å†™æ³•</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">child-component</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">@vnodeUpdated</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;onUpdated&quot;</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¸º-provide-inject-æ ‡æ³¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä¸º-provide-inject-æ ‡æ³¨ç±»å‹" aria-hidden="true">#</a> ä¸º provide / inject æ ‡æ³¨ç±»å‹<a href="https://staging-cn.vuejs.org/guide/typescript/composition-api.html#typing-provide-inject" target="_blank" rel="noopener noreferrer">#<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></h3><p>provide å’Œ inject é€šå¸¸ä¼šåœ¨ä¸åŒçš„ç»„ä»¶ä¸­è¿è¡Œã€‚è¦æ­£ç¡®åœ°ä¸ºæ³¨å…¥çš„å€¼æ ‡è®°ç±»å‹ï¼ŒVue æä¾›äº†ä¸€ä¸ª <code>InjectionKey</code> æ¥å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª <code>Symbol</code> çš„æ³›å‹ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥åœ¨æä¾›è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´åŒæ­¥æ³¨å…¥å€¼çš„ç±»å‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { provide</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> inject } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> { InjectionKey } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">key</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Symbol</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">as</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">InjectionKey</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function);">provide</span><span style="color:var(--shiki-color-text);">(key</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-comment);">// è‹¥æä¾›çš„æ˜¯éå­—ç¬¦ä¸²å€¼ä¼šå¯¼è‡´é”™è¯¯</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(key) </span><span style="color:var(--shiki-token-comment);">// foo çš„ç±»å‹ï¼šstring | undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å»ºè®®å°†æ³¨å…¥ key çš„ç±»å‹æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥è¢«å¤šä¸ªç»„ä»¶å¯¼å…¥ã€‚</strong></p><p><strong>å½“ä½¿ç”¨å­—ç¬¦ä¸²æ³¨å…¥ key æ—¶ï¼Œæ³¨å…¥å€¼çš„ç±»å‹æ˜¯ <code>unknown</code>ï¼Œéœ€è¦é€šè¿‡æ³›å‹å‚æ•°æ˜¾å¼å£°æ˜ï¼š</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> inject </span><span style="color:var(--shiki-token-keyword);">&lt;</span><span style="color:var(--shiki-color-text);"> string </span><span style="color:var(--shiki-token-keyword);">&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// ç±»å‹ï¼šstring | undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„æ³¨å…¥çš„å€¼ä»ç„¶å¯ä»¥æ˜¯ <code>undefined</code>ï¼Œå› ä¸ºæ— æ³•ä¿è¯æä¾›è€…ä¸€å®šä¼šåœ¨è¿è¡Œæ—¶ provide è¿™ä¸ªå€¼ã€‚</p><p>å½“æä¾›äº†ä¸€ä¸ªé»˜è®¤å€¼åï¼Œè¿™ä¸ª <code>undefined</code> ç±»å‹å°±å¯ä»¥è¢«ç§»é™¤ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);"> &lt; </span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);"> &gt; (</span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;bar&#39;</span><span style="color:var(--shiki-color-text);">); </span><span style="color:var(--shiki-token-comment);">// ç±»å‹ï¼šstring</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ ç¡®å®šè¯¥å€¼å°†å§‹ç»ˆè¢«æä¾›ï¼Œåˆ™è¿˜å¯ä»¥å¼ºåˆ¶è½¬æ¢è¯¥å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">as</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">string</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹" aria-hidden="true">#</a> ä¸ºæ¨¡æ¿å¼•ç”¨æ ‡æ³¨ç±»å‹</h3><p>æ¨¡æ¿å¼•ç”¨éœ€è¦é€šè¿‡ä¸€ä¸ªæ˜¾å¼æŒ‡å®šçš„æ³›å‹å‚æ•°å’Œä¸€ä¸ªåˆå§‹å€¼ <code>null</code> æ¥åˆ›å»ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">lang</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;ts&quot;</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> onMounted } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">const el = ref&lt;</span><span style="color:var(--shiki-token-constant);">HTMLInputElement</span><span style="color:var(--shiki-color-text);"> | </span><span style="color:var(--shiki-token-function);">null</span><span style="color:var(--shiki-color-text);">&gt;(null)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">onMounted(() =&gt; {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-constant);">el</span><span style="color:var(--shiki-token-function);">.</span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-token-function);">?.focus</span><span style="color:var(--shiki-color-text);">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">input</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;el&quot;</span><span style="color:var(--shiki-color-text);"> /&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼šä¸ºäº†ä¸¥æ ¼çš„ç±»å‹å®‰å…¨ï¼Œæœ‰å¿…è¦åœ¨è®¿é—® <code>el.value</code> æ—¶ä½¿ç”¨å¯é€‰é“¾æˆ–ç±»å‹å®ˆå«ã€‚è¿™æ˜¯å› ä¸ºç›´åˆ°ç»„ä»¶è¢«æŒ‚è½½å‰ï¼Œè¿™ä¸ª ref çš„å€¼éƒ½æ˜¯åˆå§‹çš„ <code>null</code>ï¼Œå¹¶ä¸”åœ¨ç”±äº <code>v-if</code> çš„è¡Œä¸ºå°†å¼•ç”¨çš„å…ƒç´ å¸è½½æ—¶ä¹Ÿå¯ä»¥è¢«è®¾ç½®ä¸º <code>null</code>ã€‚</strong></p><h3 id="v-if-å’Œ-v-for" tabindex="-1"><a class="header-anchor" href="#v-if-å’Œ-v-for" aria-hidden="true">#</a> <code>v-if</code> å’Œ <code>v-for</code></h3><blockquote><p>è­¦å‘Š</p><p>åŒæ—¶ä½¿ç”¨ <code>v-if</code> å’Œ <code>v-for</code> æ˜¯<strong>ä¸æ¨èçš„</strong>ï¼Œå› ä¸ºè¿™æ ·äºŒè€…çš„ä¼˜å…ˆçº§ä¸æ˜æ˜¾ã€‚è¯·æŸ¥çœ‹<a href="https://staging-cn.vuejs.org/style-guide/#avoid-v-if-with-v-for-essential" target="_blank" rel="noopener noreferrer">é£æ ¼æŒ‡å—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è·å¾—æ›´å¤šä¿¡æ¯ã€‚</p><p><strong>å½“ <code>v-if</code> å’Œ <code>v-for</code> åŒæ—¶å­˜åœ¨äºä¸€ä¸ªå…ƒç´ ä¸Šçš„æ—¶å€™ï¼Œ<code>v-if</code> ä¼šé¦–å…ˆè¢«æ‰§è¡Œ</strong>ã€‚è¯·æŸ¥çœ‹<a href="https://staging-cn.vuejs.org/guide/essentials/list.html#v-for-with-v-if" target="_blank" rel="noopener noreferrer">åˆ—è¡¨æ¸²æŸ“æŒ‡å—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>è·å–æ›´å¤šç»†èŠ‚ã€‚</p></blockquote><h3 id="åŠ¨æ€ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€ç»„ä»¶" aria-hidden="true">#</a> åŠ¨æ€ç»„ä»¶</h3><p>å½“ä½¿ç”¨ <code>&lt;component :is=&quot;...&quot;&gt;</code> æ¥åœ¨å¤šä¸ªç»„ä»¶é—´ä½œåˆ‡æ¢æ—¶ï¼Œè¢«åˆ‡æ¢æ‰çš„ç»„ä»¶ä¼šè¢«å¸è½½ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>keep-alive</code> ç»„ä»¶å¼ºåˆ¶è¢«åˆ‡æ¢æ‰çš„ç»„ä»¶ä»ç„¶ä¿æŒâ€œå­˜æ´»â€çš„çŠ¶æ€ã€‚</p><h3 id="ä¾èµ–æ³¨å…¥" tabindex="-1"><a class="header-anchor" href="#ä¾èµ–æ³¨å…¥" aria-hidden="true">#</a> ä¾èµ–æ³¨å…¥</h3><p>è¦ä¸ºç»„ä»¶åä»£æä¾›æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨åˆ° <a href="https://staging-cn.vuejs.org/api/composition-api-dependency-injection.html#provide" target="_blank" rel="noopener noreferrer"><code>provide()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import {provide} from &#39;vue&#39; provide(/* æ³¨å…¥å(String,Symbol) */ &#39;message&#39;,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	/* å€¼ */ &#39;hello!&#39;)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸ä½¿ç”¨ <code>&lt;script setup&gt;</code>ï¼Œè¯·ç¡®ä¿ <code>provide()</code> æ˜¯åœ¨ <code>setup()</code> åŒæ­¥è°ƒç”¨çš„ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { provide } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">provide</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-comment);">/* æ³¨å…¥å */</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;message&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">/* å€¼ */</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello!&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†åœ¨ä¸€ä¸ªç»„ä»¶ä¸­æä¾›ä¾èµ–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨å±‚é¢æä¾›ä¾èµ–ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { createApp } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">app</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">createApp</span><span style="color:var(--shiki-color-text);">({});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-constant);">app</span><span style="color:var(--shiki-token-function);">.provide</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-comment);">/* æ³¨å…¥å */</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;message&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-comment);">/* å€¼ */</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello!&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨åº”ç”¨çº§åˆ«æä¾›çš„æ•°æ®åœ¨è¯¥åº”ç”¨å†…çš„æ‰€æœ‰ç»„ä»¶ä¸­éƒ½å¯ä»¥æ³¨å…¥ã€‚è¿™åœ¨ä½ ç¼–å†™<a href="https://staging-cn.vuejs.org/guide/reusability/plugins.html" target="_blank" rel="noopener noreferrer">æ’ä»¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ—¶ä¼šç‰¹åˆ«æœ‰ç”¨ï¼Œå› ä¸ºæ’ä»¶ä¸€èˆ¬éƒ½ä¸ä¼šä½¿ç”¨ç»„ä»¶å½¢å¼æ¥æä¾›å€¼ã€‚</p><p>è¦æ³¨å…¥ä¸Šå±‚ç»„ä»¶æä¾›çš„æ•°æ®ï¼Œéœ€ä½¿ç”¨ <a href="https://staging-cn.vuejs.org/api/composition-api-dependency-injection.html#inject" target="_blank" rel="noopener noreferrer"><code>inject()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å‡½æ•°ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import {inject} from &#39;vue&#39; const message = inject(&#39;message&#39;)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¦‚æœæä¾›çš„å€¼æ˜¯ä¸€ä¸ª refï¼Œæ³¨å…¥è¿›æ¥çš„ä¼šæ˜¯<strong>è¯¥ ref å¯¹è±¡</strong>ï¼Œè€Œ<strong>ä¸ä¼š</strong>è‡ªåŠ¨è§£åŒ…ä¸ºå…¶å†…éƒ¨çš„å€¼ã€‚è¿™ä½¿å¾—æ³¨å…¥æ–¹ç»„ä»¶èƒ½å¤Ÿé€šè¿‡ ref å¯¹è±¡ä¿æŒäº†å’Œä¾›ç»™æ–¹çš„å“åº”æ€§é“¾æ¥</p></blockquote><p>å¦‚æœä¸ä½¿ç”¨ <code>&lt;script setup&gt;</code>åŒä¸Šæ³¨å…¥ä½¿ç”¨æ–¹æ³•</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å¦‚æœæ²¡æœ‰ç¥–å…ˆç»„ä»¶æä¾› &quot;message&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// `value` ä¼šæ˜¯ &quot;è¿™æ˜¯é»˜è®¤å€¼&quot;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;message&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;è¿™æ˜¯é»˜è®¤å€¼&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸€äº›åœºæ™¯ä¸­ï¼Œé»˜è®¤å€¼å¯èƒ½éœ€è¦é€šè¿‡è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–åˆå§‹åŒ–ä¸€ä¸ªç±»æ¥å–å¾—ã€‚<strong>ä¸ºäº†é¿å…åœ¨ç”¨ä¸åˆ°é»˜è®¤å€¼çš„æƒ…å†µä¸‹è¿›è¡Œä¸å¿…è¦çš„è®¡ç®—æˆ–äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å‚å‡½æ•°æ¥åˆ›å»ºé»˜è®¤å€¼</strong>ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;key&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">new</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ExpensiveClass</span><span style="color:var(--shiki-color-text);">());</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>å½“æä¾›æ³¨å…¥å“åº”å¼çš„æ•°æ®æ—¶ï¼Œ<strong>å»ºè®®å°½å¯èƒ½å°†ä»»ä½•å¯¹å“åº”å¼çŠ¶æ€çš„å˜æ›´çš„æ–¹æ³•éƒ½ä¿æŒåœ¨ä¾›ç»™æ–¹ç»„ä»¶ä¸­</strong>ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ‰€æä¾›çŠ¶æ€çš„å£°æ˜å’Œå˜æ›´æ“ä½œéƒ½å†…èšåœ¨åŒä¸€ä¸ªç»„ä»¶å†…ï¼Œä½¿å…¶æ›´å®¹æ˜“ç»´æŠ¤ã€‚(é…å¥—æä¾›ä¸€ä¸ªä¿®æ”¹çŠ¶æ€æ•°æ®çš„å‡½æ•°ï¼Œç»™å­ç»„ä»¶è°ƒç”¨æ›´æ–°æ•°æ®</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">&lt;!--</span><span style="color:var(--shiki-color-text);"> åœ¨ä¾›ç»™æ–¹ç»„ä»¶å†… </span><span style="color:var(--shiki-token-keyword);">--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { provide</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> ref } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">const location = ref(&#39;North Pole&#39;)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">function updateLocation() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-constant);">location</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;South Pole&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">provide(&#39;location&#39;, {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  location</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  updateLocation</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">&lt;!--</span><span style="color:var(--shiki-color-text);"> åœ¨æ³¨å…¥æ–¹ç»„ä»¶ </span><span style="color:var(--shiki-token-keyword);">--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { inject } from &#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">const { location</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> updateLocation } = inject(&#39;location&#39;)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">button</span><span style="color:var(--shiki-color-text);"> @click=&quot;updateLocation&quot;&gt;{{ </span><span style="color:var(--shiki-token-function);">location</span><span style="color:var(--shiki-color-text);"> }}&lt;/button&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/template&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åï¼Œå¦‚æœä½ æƒ³ç¡®ä¿æä¾›çš„æ•°æ®ä¸èƒ½è¢«æ³¨å…¥æ–¹çš„ç»„ä»¶æ›´æ”¹ï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://staging-cn.vuejs.org/api/reactivity-core.html#readonly" target="_blank" rel="noopener noreferrer"><code>readonly()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥åŒ…è£…æä¾›çš„å€¼ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	import {(ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> provide</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> readonly)} from &#39;vue&#39; const count = ref(0)</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	provide(&#39;read-only-count&#39;, readonly(count))</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šå»ºè®®æœ€å¥½ä½¿ç”¨ Symbol æ¥ä½œä¸ºæ³¨å…¥åä»¥é¿å…æ½œåœ¨çš„å†²çªã€‚</p><h4 id="ä¸º-provide-inject-æ ‡æ³¨ç±»å‹-1" tabindex="-1"><a class="header-anchor" href="#ä¸º-provide-inject-æ ‡æ³¨ç±»å‹-1" aria-hidden="true">#</a> ä¸º provide / inject æ ‡æ³¨ç±»å‹</h4><p>Vue æä¾›äº†ä¸€ä¸ª <code>InjectionKey</code> æ¥å£ï¼Œå®ƒæ˜¯ä¸€ä¸ªç»§æ‰¿è‡ª <code>Symbol</code> çš„æ³›å‹ç±»å‹ï¼Œå¯ä»¥ç”¨æ¥åœ¨æä¾›è€…å’Œæ¶ˆè´¹è€…ä¹‹é—´åŒæ­¥æ³¨å…¥å€¼çš„ç±»å‹ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { provide</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> inject } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">type</span><span style="color:var(--shiki-color-text);"> { InjectionKey } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">key</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">Symbol</span><span style="color:var(--shiki-color-text);">() </span><span style="color:var(--shiki-token-keyword);">as</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">InjectionKey</span><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-function);">provide</span><span style="color:var(--shiki-color-text);">(key</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-comment);">// è‹¥æä¾›çš„æ˜¯éå­—ç¬¦ä¸²å€¼ä¼šå¯¼è‡´é”™è¯¯</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(key) </span><span style="color:var(--shiki-token-comment);">// foo çš„ç±»å‹ï¼šstring | undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å»ºè®®å°†æ³¨å…¥ key çš„ç±»å‹æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥è¢«å¤šä¸ªç»„ä»¶å¯¼å…¥ã€‚</p><p><strong>å½“ä½¿ç”¨å­—ç¬¦ä¸²æ³¨å…¥ key æ—¶ï¼Œæ³¨å…¥å€¼çš„ç±»å‹æ˜¯ <code>unknown</code>ï¼Œéœ€è¦é€šè¿‡æ³›å‹å‚æ•°æ˜¾å¼å£°æ˜ï¼š</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> inject </span><span style="color:var(--shiki-token-keyword);">&lt;</span><span style="color:var(--shiki-color-text);"> string </span><span style="color:var(--shiki-token-keyword);">&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">; </span><span style="color:var(--shiki-token-comment);">// ç±»å‹ï¼šstring | undefined</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„æ³¨å…¥çš„å€¼ä»ç„¶å¯ä»¥æ˜¯ <code>undefined</code>ï¼Œå› ä¸º<strong>æ— æ³•ä¿è¯æä¾›è€…ä¸€å®šä¼šåœ¨è¿è¡Œæ—¶ provide è¿™ä¸ªå€¼</strong>ã€‚</p><p><strong>å½“æä¾›äº†ä¸€ä¸ªé»˜è®¤å€¼&#39;bar&#39;åï¼Œè¿™ä¸ª <code>undefined</code> ç±»å‹å°±å¯ä»¥è¢«ç§»é™¤ï¼š</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);"> &lt; </span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);"> &gt; (</span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;bar&#39;</span><span style="color:var(--shiki-color-text);">); </span><span style="color:var(--shiki-token-comment);">// ç±»å‹ï¼šstring</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä½ ç¡®å®šè¯¥å€¼å°†å§‹ç»ˆè¢«æä¾›ï¼Œåˆ™è¿˜å¯ä»¥å¼ºåˆ¶è½¬æ¢è¯¥å€¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">foo</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">inject</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">as</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">string</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="ç»„åˆå¼å‡½æ•°-hook" tabindex="-1"><a class="header-anchor" href="#ç»„åˆå¼å‡½æ•°-hook" aria-hidden="true">#</a> ç»„åˆå¼å‡½æ•°(hook)</h2><h3 id="ä»€ä¹ˆæ˜¯-ç»„åˆå¼å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-ç»„åˆå¼å‡½æ•°" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯â€œç»„åˆå¼å‡½æ•°â€ï¼Ÿ</h3><blockquote><p>â€œç»„åˆå¼å‡½æ•°â€(Composables) æ˜¯ä¸€ä¸ª<strong>åˆ©ç”¨ Vue ç»„åˆå¼ API æ¥å°è£…å’Œå¤ç”¨æœ‰çŠ¶æ€é€»è¾‘çš„å‡½æ•°</strong>ã€‚</p><p>å¤ç”¨å…¬å…±ä»»åŠ¡çš„é€»è¾‘ã€‚ä¾‹å¦‚ä¸ºäº†åœ¨ä¸åŒåœ°æ–¹æ ¼å¼åŒ–æ—¶é—´ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šæŠ½å–ä¸€ä¸ªå¯å¤ç”¨çš„æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°å°è£…äº†<strong>æ— çŠ¶æ€çš„é€»è¾‘</strong>ï¼šå®ƒåœ¨æ¥æ”¶ä¸€äº›è¾“å…¥åç«‹åˆ»è¿”å›æ‰€æœŸæœ›çš„è¾“å‡ºã€‚å¤ç”¨æ— çŠ¶æ€é€»è¾‘çš„åº“æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ä½ å¯èƒ½å·²ç»ç”¨è¿‡çš„ <a href="https://lodash.com/" target="_blank" rel="noopener noreferrer">lodash<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æˆ–æ˜¯ <a href="https://date-fns.org/" target="_blank" rel="noopener noreferrer">date-fns<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p>ğŸ“¦: å’Œåœ¨ç»„ä»¶ä¸­ä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨æ‰€æœ‰çš„ç»„åˆå¼ API,è¿˜å¯ä»¥åµŒå¥—å¤šä¸ªç»„åˆå¼å‡½æ•°ï¼šä¸€ä¸ªç»„åˆå¼å‡½æ•°å¯ä»¥è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå…¶ä»–çš„ç»„åˆå¼å‡½æ•°ã€‚</p><p><strong><code>è¿™æ­£æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å†³å®šå°†å®ç°äº†è¿™ä¸€è®¾è®¡æ¨¡å¼çš„ API é›†åˆå‘½åä¸ºç»„åˆå¼ API</code></strong>ã€‚</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// mouse.js</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { ref } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { useEventListener } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;./event&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useMouse</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">x</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">y</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">0</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">useEventListener</span><span style="color:var(--shiki-color-text);">(window</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;mousemove&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> (event) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">x</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">event</span><span style="color:var(--shiki-color-text);">.pageX;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">y</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">event</span><span style="color:var(--shiki-color-text);">.pageY;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	});</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> { x</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> y };</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼šå¿…é¡»æ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä¸”å»ºè®®ä»¥ use å‰ç¼€å‘½å</strong></p><h5 id="å¸¦å‚æ•°çš„ç»„åˆå¼å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å¸¦å‚æ•°çš„ç»„åˆå¼å‡½æ•°" aria-hidden="true">#</a> å¸¦å‚æ•°çš„ç»„åˆå¼å‡½æ•°</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// fetch.js</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> isRef</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> unref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> watchEffect } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useFetch</span><span style="color:var(--shiki-color-text);">(url) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">data</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">error</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">doFetch</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// åœ¨è¯·æ±‚ä¹‹å‰é‡è®¾çŠ¶æ€...</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">data</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">error</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// unref() è§£åŒ…å¯èƒ½ä¸º ref çš„å€¼</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">fetch</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-function);">unref</span><span style="color:var(--shiki-color-text);">(url))</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">.then</span><span style="color:var(--shiki-color-text);">((res) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">res</span><span style="color:var(--shiki-token-function);">.json</span><span style="color:var(--shiki-color-text);">())</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">.then</span><span style="color:var(--shiki-color-text);">((json) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">data</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> json))</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">.catch</span><span style="color:var(--shiki-color-text);">((err) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-constant);">error</span><span style="color:var(--shiki-color-text);">.value </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> err));</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> (</span><span style="color:var(--shiki-token-function);">isRef</span><span style="color:var(--shiki-color-text);">(url)) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// è‹¥è¾“å…¥çš„ URL æ˜¯ä¸€ä¸ª refï¼Œé‚£ä¹ˆå¯åŠ¨ä¸€ä¸ªå“åº”å¼çš„è¯·æ±‚</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">watchEffect</span><span style="color:var(--shiki-color-text);">(doFetch);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	} </span><span style="color:var(--shiki-token-keyword);">else</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// å¦åˆ™åªè¯·æ±‚ä¸€æ¬¡</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// é¿å…ç›‘å¬å™¨çš„é¢å¤–å¼€é”€</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-function);">doFetch</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> { data</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> error };</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>useFetch()</code> ç°åœ¨åŒæ—¶å¯ä»¥æ¥æ”¶é™æ€çš„ URL å­—ç¬¦ä¸²å’Œ URL å­—ç¬¦ä¸²çš„ refã€‚å½“é€šè¿‡ <a href="https://staging-cn.vuejs.org/api/reactivity-utilities.html#isref" target="_blank" rel="noopener noreferrer"><code>isRef()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ£€æµ‹åˆ° URL æ˜¯ä¸€ä¸ªåŠ¨æ€ ref æ—¶ï¼Œå®ƒä¼šä½¿ç”¨ <a href="https://staging-cn.vuejs.org/api/reactivity-core.html#watcheffect" target="_blank" rel="noopener noreferrer"><code>watchEffect()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å¯åŠ¨ä¸€ä¸ªå“åº”å¼çš„ effectã€‚è¯¥ effect ä¼šç«‹åˆ»æ‰§è¡Œä¸€æ¬¡ï¼Œå¹¶åœ¨æ­¤è¿‡ç¨‹ä¸­å°† URL çš„ ref ä½œä¸ºä¾èµ–è¿›è¡Œè·Ÿè¸ªã€‚å½“ URL çš„ ref å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ•°æ®å°±ä¼šè¢«é‡ç½®ï¼Œå¹¶é‡æ–°è¯·æ±‚ã€‚</p></blockquote><p><strong>å°½ç®¡å…¶å“åº”æ€§ä¸ä¾èµ– refï¼Œç»„åˆå¼å‡½æ•°ä»å¯æ¥æ”¶ ref å‚æ•°</strong>ã€‚å¦‚æœç¼–å†™çš„ç»„åˆå¼å‡½æ•°ä¼šè¢«å…¶ä»–å¼€å‘è€…ä½¿ç”¨ï¼Œä½ <strong>æœ€å¥½åœ¨å¤„ç†è¾“å…¥å‚æ•°æ—¶å…¼å®¹ ref è€Œä¸åªæ˜¯åŸå§‹çš„å€¼</strong>ã€‚<code>unref()</code>å·¥å…·å‡½æ•°ä¼šå¯¹æ­¤éå¸¸æœ‰å¸®åŠ©ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { unref } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useFeature</span><span style="color:var(--shiki-color-text);">(maybeRef) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// è‹¥ maybeRef ç¡®å®æ˜¯ä¸€ä¸ª refï¼Œå®ƒçš„ .value ä¼šè¢«è¿”å›ğŸ‘</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// å¦åˆ™ï¼ŒmaybeRef ä¼šè¢«åŸæ ·è¿”å›</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">value</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">unref</span><span style="color:var(--shiki-color-text);">(maybeRef);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¦‚æœä½ çš„ç»„åˆå¼å‡½æ•°åœ¨æ¥æ”¶ ref ä¸ºå‚æ•°æ—¶ä¼šäº§ç”Ÿå“åº”å¼ effectï¼Œè¯·ç¡®ä¿ä½¿ç”¨ <code>watch()</code> æ˜¾å¼åœ°ç›‘å¬æ­¤ refï¼Œæˆ–è€…åœ¨ <code>watchEffect()</code> ä¸­è°ƒç”¨ <code>unref()</code> æ¥è¿›è¡Œæ­£ç¡®çš„è¿½è¸ªã€‚</strong></p><p>åœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨ <code>ref()</code> è€Œä¸æ˜¯ <code>reactive()</code>ã€‚æˆ‘ä»¬æ¨èçš„çº¦å®šæ˜¯ç»„åˆå¼å‡½æ•°å§‹ç»ˆè¿”å›ä¸€ä¸ªåŒ…å«å¤šä¸ª ref çš„æ™®é€šçš„éå“åº”å¼å¯¹è±¡ï¼Œ<strong>è¿™æ ·è¯¥å¯¹è±¡åœ¨ç»„ä»¶ä¸­è¢«è§£æ„ä¸º ref ä¹‹åä»å¯ä»¥ä¿æŒå“åº”æ€§ï¼š</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// x å’Œ y æ˜¯ä¸¤ä¸ª ref</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> { </span><span style="color:var(--shiki-token-constant);">x</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">y</span><span style="color:var(--shiki-color-text);"> } </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">useMouse</span><span style="color:var(--shiki-color-text);">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>ä»ç»„åˆå¼å‡½æ•°è¿”å›ä¸€ä¸ªå“åº”å¼å¯¹è±¡ä¼šå¯¼è‡´åœ¨å¯¹è±¡è§£æ„è¿‡ç¨‹ä¸­ä¸¢å¤±ä¸ç»„åˆå¼å‡½æ•°å†…çŠ¶æ€çš„å“åº”æ€§è¿æ¥ã€‚ä¸ä¹‹ç›¸åï¼Œref åˆ™å¯ä»¥ç»´æŒè¿™ä¸€å“åº”æ€§è¿æ¥</strong>ğŸ“¦</p></blockquote><blockquote><p>ç¡®ä¿åœ¨ <code>onUnmounted()</code> æ—¶æ¸…ç†å‰¯ä½œç”¨ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªç»„åˆå¼å‡½æ•°è®¾ç½®äº†ä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå®ƒå°±åº”è¯¥åœ¨ <code>onUnmounted()</code> ä¸­è¢«ç§»é™¤ (å°±åƒæˆ‘ä»¬åœ¨ <code>useMouse()</code> ç¤ºä¾‹ä¸­çœ‹åˆ°çš„ä¸€æ ·)ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åƒä¹‹å‰çš„ <code>useEventListener()</code> ç¤ºä¾‹é‚£æ ·ï¼Œä½¿ç”¨ä¸€ä¸ªç»„åˆå¼å‡½æ•°æ¥è‡ªåŠ¨å¸®ä½ åšè¿™äº›äº‹ã€‚</p></blockquote><blockquote><p>ç»„åˆå¼å‡½æ•°åœ¨ <code>&lt;script setup&gt;</code> æˆ– <code>setup()</code> é’©å­ä¸­ï¼Œ<strong>åº”å§‹ç»ˆè¢«åŒæ­¥åœ°è°ƒç”¨ã€‚</strong></p></blockquote><p>æ³¨æ„ï¼šè¿™ä¸ªé™åˆ¶æ˜¯ä¸ºäº†è®© Vue èƒ½å¤Ÿç¡®å®šå½“å‰æ­£åœ¨è¢«æ‰§è¡Œçš„åˆ°åº•æ˜¯å“ªä¸ªç»„ä»¶å®ä¾‹ï¼Œåªæœ‰èƒ½ç¡®è®¤å½“å‰ç»„ä»¶å®ä¾‹ï¼Œæ‰èƒ½å¤Ÿï¼šğŸ“¦</p><ol><li><strong>å°†ç”Ÿå‘½å‘¨æœŸé’©å­æ³¨å†Œåˆ°è¯¥ç»„ä»¶å®ä¾‹ä¸Š</strong></li><li><strong>å°†è®¡ç®—å±æ€§å’Œç›‘å¬å™¨æ³¨å†Œåˆ°è¯¥ç»„ä»¶å®ä¾‹ä¸Šï¼Œä»¥ä¾¿åœ¨è¯¥ç»„ä»¶è¢«å¸è½½æ—¶åœæ­¢ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</strong></li></ol><blockquote><p>TIP:</p><p><code>&lt;script setup&gt; æ˜¯å”¯ä¸€åœ¨è°ƒç”¨ await ä¹‹åä»å¯è°ƒç”¨ç»„åˆå¼å‡½æ•°çš„åœ°æ–¹ã€‚ç¼–è¯‘å™¨ä¼šåœ¨å¼‚æ­¥æ“ä½œä¹‹åè‡ªåŠ¨ä¸ºä½ æ¢å¤å½“å‰çš„ç»„ä»¶å®ä¾‹ã€‚</code></p></blockquote><h4 id="hook-or-mixin" tabindex="-1"><a class="header-anchor" href="#hook-or-mixin" aria-hidden="true">#</a> Hook or Mixin</h4><p>å½“ä½¿ç”¨äº†å¤šä¸ª mixin æ—¶ï¼Œå®ä¾‹ä¸Šçš„æ•°æ®å±æ€§æ¥è‡ªå“ªä¸ª mixin å˜å¾—ä¸æ¸…æ™°ï¼Œæ¨èåœ¨ç»„åˆå¼å‡½æ•°ä¸­ä½¿ç”¨ ref + è§£æ„æ¨¡å¼çš„ç†ç”±ï¼š<strong>è®©å±æ€§çš„æ¥æºåœ¨æ¶ˆè´¹ç»„ä»¶æ—¶ä¸€ç›®äº†ç„¶ã€‚</strong>(æ¥è‡ªå“ªä¸ª Hook çš„ï¼Œå¯ä»¥ä»è§£æ„ä¸­äº†è§£åˆ°)</p><p>å¤šä¸ªæ¥è‡ªä¸åŒä½œè€…çš„ mixin å¯èƒ½ä¼šæ³¨å†Œç›¸åŒçš„å±æ€§åï¼Œé€ æˆå‘½åå†²çªã€‚è‹¥ä½¿ç”¨ç»„åˆå¼å‡½æ•°ï¼Œä½ <strong>å¯ä»¥é€šè¿‡åœ¨è§£æ„å˜é‡æ—¶å¯¹å˜é‡è¿›è¡Œé‡å‘½åæ¥é¿å…ç›¸åŒçš„é”®å</strong>ã€‚</p><p>å¤šä¸ª mixin éœ€è¦ä¾èµ–å…±äº«çš„å±æ€§åæ¥è¿›è¡Œç›¸äº’ä½œç”¨ï¼Œè¿™ä½¿å¾—å®ƒä»¬<strong>éšæ€§åœ°è€¦åˆåœ¨ä¸€èµ·</strong>ã€‚è€Œä¸€ä¸ªç»„åˆå¼å‡½æ•°çš„<strong>è¿”å›å€¼å¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªç»„åˆå¼å‡½æ•°çš„å‚æ•°è¢«ä¼ å…¥ï¼Œåƒæ™®é€šå‡½æ•°é‚£æ ·</strong>ã€‚</p><h3 id="vue-ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#vue-ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼" aria-hidden="true">#</a> Vue ä¸­é‡ç”¨ä»£ç çš„æ–¹å¼</h3><p><code>ç»„ä»¶</code>ã€<code>ç»„åˆå¼å‡½æ•°</code>ã€<code>è‡ªå®šä¹‰æŒ‡ä»¤</code>ï¼Œ<strong>ç»„ä»¶æ˜¯ä¸»è¦çš„æ„å»ºæ¨¡å—ï¼Œè€Œç»„åˆå¼å‡½æ•°åˆ™ä¾§é‡äºæœ‰çŠ¶æ€çš„é€»è¾‘ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤ä¸»è¦æ˜¯ä¸ºäº†é‡ç”¨æ¶‰åŠæ™®é€šå…ƒç´ çš„åº•å±‚ DOM è®¿é—®çš„é€»è¾‘ã€‚</strong></p><h3 id="è‡ªå®šä¹‰æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æŒ‡ä»¤" aria-hidden="true">#</a> è‡ªå®šä¹‰æŒ‡ä»¤</h3><blockquote><p>ä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤**<code>ç”±ä¸€ä¸ªåŒ…å«ç±»ä¼¼ç»„ä»¶ç”Ÿå‘½å‘¨æœŸé’©å­çš„å¯¹è±¡æ¥å®šä¹‰</code>**ã€‚<strong>é’©å­å‡½æ•°ä¼šæ¥æ”¶åˆ°æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ ä½œä¸ºå…¶å‚æ•°</strong>ã€‚</p><p><strong><code>ä»»ä½•ä»¥ v å¼€å¤´çš„é©¼å³°å¼å‘½åçš„å˜é‡éƒ½å¯ä»¥è¢«ç”¨ä½œä¸€ä¸ªè‡ªå®šä¹‰æŒ‡ä»¤ã€‚</code></strong></p><p>åœ¨æ²¡æœ‰ä½¿ç”¨ <code>&lt;script setup&gt;</code> çš„æƒ…å†µä¸‹ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤éœ€è¦é€šè¿‡ <code>directives</code> é€‰é¡¹æ³¨å†Œ</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å½“ä¸€ä¸ª input å…ƒç´ è¢« Vue æ’å…¥åˆ° DOM ä¸­åï¼Œå®ƒä¼šè¢«è‡ªåŠ¨èšç„¦</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">// åœ¨æ¨¡æ¿ä¸­å¯ç”¨ v-focusï¼Œæ— éœ€æ‰‹åŠ¨å¼•å…¥ï¼Œå®šä¹‰éœ€è¦æ³¨å†Œçš„è‡ªå®šä¹‰æŒ‡ä»¤é’©å­å‡½æ•°ï¼Œç›´æ¥åœ¨æ¨¡æ¿ä¸­å³å¯ä½¿ç”¨ğŸ“¦</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">const vFocus = {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  mounted: (el) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">el</span><span style="color:var(--shiki-token-function);">.focus</span><span style="color:var(--shiki-color-text);">()</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;</span><span style="color:var(--shiki-token-string-expression);">input</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">v-focus</span><span style="color:var(--shiki-color-text);"> /&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">vFocus</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åœ¨ç»‘å®šå…ƒç´ çš„ attribute å‰</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// æˆ–äº‹ä»¶ç›‘å¬å™¨åº”ç”¨å‰è°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">created</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// ä¸‹é¢ä¼šä»‹ç»å„ä¸ªå‚æ•°çš„ç»†èŠ‚</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åœ¨å…ƒç´ è¢«æ’å…¥åˆ° DOM å‰è°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">beforeMount</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æŒ‚è½½å®Œæˆåè°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">mounted</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶æ›´æ–°å‰è°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">beforeUpdate</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åœ¨ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// åŠä»–è‡ªå·±çš„æ‰€æœ‰å­èŠ‚ç‚¹éƒ½æ›´æ–°åè°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">updated</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½å‰è°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">beforeUnmount</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-comment);">// ç»‘å®šå…ƒç´ çš„çˆ¶ç»„ä»¶å¸è½½åè°ƒç”¨</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">unmounted</span><span style="color:var(--shiki-color-text);">(el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> vnode</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> prevVnode) {}</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>el</code>ï¼šæŒ‡ä»¤ç»‘å®šåˆ°çš„å…ƒç´ ã€‚è¿™<strong>å¯ä»¥ç”¨äºç›´æ¥æ“ä½œ DOMã€‚</strong></li><li><code>binding</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ã€‚ <ul><li><code>value</code>ï¼š<strong>ä¼ é€’ç»™æŒ‡ä»¤çš„å€¼</strong>ã€‚ä¾‹å¦‚åœ¨ <code>v-my-directive=&quot;1 + 1&quot;</code> ä¸­ï¼Œå€¼æ˜¯ <code>2</code>ã€‚</li><li><code>oldValue</code>ï¼š<strong>ä¹‹å‰çš„å€¼ï¼Œä»…åœ¨ <code>beforeUpdate</code> å’Œ <code>updated</code> ä¸­å¯ç”¨</strong>ã€‚æ— è®ºå€¼æ˜¯å¦æ›´æ”¹ï¼Œå®ƒéƒ½å¯ç”¨ã€‚</li><li><code>arg</code>ï¼šä¼ é€’ç»™æŒ‡ä»¤çš„å‚æ•° (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ <code>v-my-directive:foo</code> ä¸­ï¼Œå‚æ•°æ˜¯ <code>&quot;foo&quot;</code>ã€‚</li><li><code>modifiers</code>ï¼šä¸€ä¸ªåŒ…å«ä¿®é¥°ç¬¦çš„å¯¹è±¡ (å¦‚æœæœ‰çš„è¯)ã€‚ä¾‹å¦‚åœ¨ <code>v-my-directive.foo.bar</code> ä¸­ï¼Œä¿®é¥°ç¬¦å¯¹è±¡æ˜¯ <code>{ foo: true, bar: true }</code>ã€‚</li><li><code>instance</code>ï¼š<strong>ä½¿ç”¨è¯¥æŒ‡ä»¤çš„ç»„ä»¶å®ä¾‹ã€‚</strong></li><li><code>dir</code>ï¼šæŒ‡ä»¤çš„å®šä¹‰å¯¹è±¡ã€‚</li></ul></li><li><code>vnode</code>ï¼š<strong>ä»£è¡¨ç»‘å®šå…ƒç´ çš„åº•å±‚ VNodeã€‚</strong></li><li><code>prevNode</code>ï¼š<strong>ä¹‹å‰çš„æ¸²æŸ“ä¸­ä»£è¡¨æŒ‡ä»¤æ‰€ç»‘å®šå…ƒç´ çš„ VNodeã€‚ä»…åœ¨ <code>beforeUpdate</code> å’Œ <code>updated</code> é’©å­ä¸­å¯ç”¨ã€‚</strong></li></ul><p><strong>å’Œå†…ç½®æŒ‡ä»¤ç±»ä¼¼ï¼Œè‡ªå®šä¹‰æŒ‡ä»¤çš„å‚æ•°ä¹Ÿå¯ä»¥æ˜¯åŠ¨æ€çš„</strong>ã€‚ä¸¾ä¾‹æ¥è¯´ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">v-example:[arg]</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;value&quot;</span><span style="color:var(--shiki-color-text);">&gt;&lt;/</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡ŒæŒ‡ä»¤çš„å‚æ•°ä¼šåŸºäºç»„ä»¶çš„ <code>arg</code> æ•°æ®å±æ€§å“åº”å¼åœ°æ›´æ–°</p><h4 id="ç®€å†™ç‰ˆ-è‡ªå®šä¹‰æŒ‡ä»¤" tabindex="-1"><a class="header-anchor" href="#ç®€å†™ç‰ˆ-è‡ªå®šä¹‰æŒ‡ä»¤" aria-hidden="true">#</a> ç®€å†™ç‰ˆ è‡ªå®šä¹‰æŒ‡ä»¤</h4><p>å¯¹äºè‡ªå®šä¹‰æŒ‡ä»¤æ¥è¯´ï¼Œä¸€ä¸ªå¾ˆå¸¸è§çš„æƒ…å†µæ˜¯<strong>ä»…ä»…éœ€è¦åœ¨ <code>mounted</code> å’Œ <code>updated</code> ä¸Šå®ç°ç›¸åŒçš„è¡Œä¸º</strong>ï¼Œé™¤æ­¤ä¹‹å¤–å¹¶ä¸éœ€è¦å…¶ä»–é’©å­ã€‚è¿™ç§æƒ…å†µä¸‹æˆ‘ä»¬<strong>å¯ä»¥ç›´æ¥ç”¨ä¸€ä¸ªå‡½æ•°æ¥å®šä¹‰æŒ‡ä»¤</strong>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">v-color</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&#39;color&#39;</span><span style="color:var(--shiki-color-text);">&gt;&lt;/</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);">&gt;;</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">app</span><span style="color:var(--shiki-token-function);">.directive</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;color&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> (el</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> binding) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-comment);">// è¿™ä¼šåœ¨ `mounted` å’Œ `updated` æ—¶éƒ½è°ƒç”¨ğŸ“¦</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-constant);">el</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">style</span><span style="color:var(--shiki-color-text);">.color </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">binding</span><span style="color:var(--shiki-color-text);">.value;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šåªæœ‰å½“æ‰€éœ€åŠŸèƒ½åªèƒ½é€šè¿‡ç›´æ¥çš„ DOM æ“ä½œæ¥å®ç°æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ã€‚å…¶ä»–æƒ…å†µä¸‹åº”è¯¥å°½å¯èƒ½åœ°ä½¿ç”¨ <code>v-bind</code> è¿™æ ·çš„å†…ç½®æŒ‡ä»¤æ¥å£°æ˜å¼åœ°ä½¿ç”¨æ¨¡æ¿ï¼Œè¿™æ ·æ›´é«˜æ•ˆ</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ç»„ä»¶å¯èƒ½å«æœ‰å¤šä¸ªæ ¹èŠ‚ç‚¹ã€‚å½“åº”ç”¨åˆ°ä¸€ä¸ªå¤šæ ¹ç»„ä»¶æ—¶ï¼ŒæŒ‡ä»¤å°†ä¼šè¢«å¿½ç•¥ä¸”æŠ›å‡ºä¸€ä¸ªè­¦å‘Šã€‚å’Œ attribute ä¸åŒï¼ŒæŒ‡ä»¤ä¸èƒ½é€šè¿‡ <code>v-bind=&quot;$attrs&quot;</code> æ¥ä¼ é€’ç»™ä¸€ä¸ªä¸åŒçš„å…ƒç´ ã€‚æ€»çš„æ¥è¯´ï¼Œ<strong>ä¸</strong>æ¨èåœ¨ç»„ä»¶ä¸Šä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ã€‚</p><h3 id="æ’ä»¶-vue-use" tabindex="-1"><a class="header-anchor" href="#æ’ä»¶-vue-use" aria-hidden="true">#</a> æ’ä»¶ Vue.use</h3><blockquote><p><strong>ä¸€ä¸ªæ’ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªæ‹¥æœ‰ <code>install()</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ˜¯ä¸€ä¸ªå®‰è£…å‡½æ•°æœ¬èº«</strong>ã€‚æ’ä»¶ (Plugins) æ˜¯ä¸€ç§èƒ½ä¸º Vue æ·»åŠ å…¨å±€åŠŸèƒ½çš„å·¥å…·ä»£ç ã€‚</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// plugins/i18n.js</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">install</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> (app</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> options) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-comment);">// åœ¨è¿™é‡Œç¼–å†™æ’ä»¶ä»£ç </span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">æˆ‘ä»¬å¸Œæœ›æœ‰ä¸€ä¸ªç¿»è¯‘å‡½æ•°ï¼Œ</span><span style="color:var(--shiki-token-constant);">è¿™ä¸ªå‡½æ•°æ¥æ”¶ä¸€ä¸ªä»¥</span><span style="color:var(--shiki-color-text);"> . ä½œä¸ºåˆ†éš”ç¬¦çš„ key å­—ç¬¦ä¸²ï¼Œç”¨æ¥åœ¨ç”¨æˆ·æä¾›çš„ç¿»è¯‘å­—å…¸ä¸­æŸ¥æ‰¾å¯¹åº”è¯­è¨€çš„æ–‡æœ¬ã€‚æœŸæœ›çš„ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">h1</span><span style="color:var(--shiki-color-text);">&gt;{{ </span><span style="color:var(--shiki-token-function);">$translate</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;greetings.hello&#39;</span><span style="color:var(--shiki-color-text);">) }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">h1</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// plugins/i18n.js</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">install</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> (app</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> options) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// æ³¨å…¥ä¸€ä¸ªå…¨å±€å¯ç”¨çš„ $translate() æ–¹æ³•</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">app</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">config</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-constant);">globalProperties</span><span style="color:var(--shiki-color-text);">.</span><span style="color:var(--shiki-token-function);">$translate</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> (key) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-comment);">// è·å– `options` å¯¹è±¡çš„æ·±å±‚å±æ€§</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-comment);">// ä½¿ç”¨ `key` ä½œä¸ºç´¢å¼•</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">key</span><span style="color:var(--shiki-token-function);">.split</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;.&#39;</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-function);">.reduce</span><span style="color:var(--shiki-color-text);">((o</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> i) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">				</span><span style="color:var(--shiki-token-keyword);">if</span><span style="color:var(--shiki-color-text);"> (o) </span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> o[i];</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			}</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> options);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		};</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ts-æ‰©å±•å…¨å±€å±æ€§" tabindex="-1"><a class="header-anchor" href="#ts-æ‰©å±•å…¨å±€å±æ€§" aria-hidden="true">#</a> TS æ‰©å±•å…¨å±€å±æ€§</h3><p>æŸäº›æ’ä»¶ä¼šé€šè¿‡ <a href="https://staging-cn.vuejs.org/api/application.html#app-config-globalproperties" target="_blank" rel="noopener noreferrer"><code>app.config.globalProperties</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸ºæ‰€æœ‰ç»„ä»¶éƒ½å®‰è£…å…¨å±€å¯ç”¨çš„å±æ€§ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½ä¸ºäº†è¯·æ±‚æ•°æ®è€Œå®‰è£…äº† <code>this.$http</code>ï¼Œæˆ–è€…ä¸ºäº†å›½é™…åŒ–è€Œå®‰è£…äº† <code>this.$translate</code>ã€‚ä¸ºäº†ä½¿ TypeScript æ›´å¥½åœ°æ”¯æŒè¿™ä¸ªè¡Œä¸ºï¼ŒVue æš´éœ²äº†ä¸€ä¸ªè¢«è®¾è®¡ä¸ºå¯ä»¥é€šè¿‡ <a href="https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation" target="_blank" rel="noopener noreferrer">TypeScript æ¨¡å—æ‰©å±•<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ¥æ‰©å±•çš„ <code>ComponentCustomProperties</code> æ¥å£ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> axios </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;axios&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">declare</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">module</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-keyword);">interface</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ComponentCustomProperties</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    $http</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">typeof</span><span style="color:var(--shiki-color-text);"> axios</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">    </span><span style="color:var(--shiki-token-function);">$translate</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> (key</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">string</span><span style="color:var(--shiki-color-text);">) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">string</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  }</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="transition-ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#transition-ç»„ä»¶" aria-hidden="true">#</a> <code>&lt;Transition&gt;</code> ç»„ä»¶</h3><p>æ¡ä»¶ä¹‹ä¸€è§¦å‘ï¼š</p><ul><li>ç”± <code>v-if</code> æ‰€è§¦å‘çš„åˆ‡æ¢</li><li>ç”± <code>v-show</code> æ‰€è§¦å‘çš„åˆ‡æ¢</li><li>ç”±ç‰¹æ®Šå…ƒç´  <code>&lt;component&gt;</code> åˆ‡æ¢çš„åŠ¨æ€ç»„ä»¶</li></ul><p>å½“ä¸€ä¸ª <code>&lt;Transition&gt;</code> ç»„ä»¶ä¸­çš„å…ƒç´ è¢«æ’å…¥æˆ–ç§»é™¤æ—¶ï¼Œä¼šå‘ç”Ÿä¸‹é¢è¿™äº›äº‹æƒ…ï¼š</p><ol><li>Vue ä¼šè‡ªåŠ¨æ£€æµ‹ç›®æ ‡å…ƒç´ æ˜¯å¦åº”ç”¨äº† CSS è¿‡æ¸¡æˆ–åŠ¨ç”»ã€‚å¦‚æœæ˜¯ï¼Œåˆ™ä¸€äº› CSS è¿‡æ¸¡ class ä¼šåœ¨é€‚å½“çš„æ—¶æœºè¢«æ·»åŠ å’Œç§»é™¤ã€‚</li><li>å¦‚æœæœ‰ä½œä¸ºç›‘å¬å™¨çš„ JavaScript é’©å­ï¼Œè¿™äº›é’©å­å‡½æ•°ä¼šåœ¨é€‚å½“æ—¶æœºè¢«è°ƒç”¨ã€‚</li><li>å¦‚æœæ²¡æœ‰æ¢æµ‹åˆ° CSS è¿‡æ¸¡æˆ–åŠ¨ç”»ã€ä¹Ÿæ²¡æœ‰æä¾› JavaScript é’©å­ï¼Œé‚£ä¹ˆ DOM çš„æ’å…¥ã€åˆ é™¤æ“ä½œå°†åœ¨æµè§ˆå™¨çš„ä¸‹ä¸€ä¸ªåŠ¨ç”»å¸§åæ‰§è¡Œã€‚</li></ol><p><strong>JavaScript é’©å­</strong></p><p>ä½ å¯ä»¥é€šè¿‡ç›‘å¬ Transition ç»„ä»¶äº‹ä»¶çš„æ–¹å¼åœ¨è¿‡æ¸¡è¿‡ç¨‹ä¸­æŒ‚ä¸Šé’©å­å‡½æ•°</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">Transition</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @before-enter=&quot;onBeforeEnter&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @enter=&quot;onEnter&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @after-enter=&quot;onAfterEnter&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @enter-cancelled=&quot;onEnterCancelled&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @before-leave=&quot;onBeforeLeave&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @leave=&quot;onLeave&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @after-leave=&quot;onAfterLeave&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  @leave-cancelled=&quot;onLeaveCancelled&quot;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  &lt;!-- ... --&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-constant);">Transition</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç”¨å“åº”å¼-api-åšç®€å•çŠ¶æ€ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ç”¨å“åº”å¼-api-åšç®€å•çŠ¶æ€ç®¡ç†" aria-hidden="true">#</a> ç”¨å“åº”å¼ API åšç®€å•çŠ¶æ€ç®¡ç†</h3><p>å¦‚æœä½ æœ‰ä¸€éƒ¨åˆ†çŠ¶æ€éœ€è¦åœ¨å¤šä¸ªç»„ä»¶å®ä¾‹é—´å…±äº«ï¼Œä½ å¯ä»¥ä½¿ç”¨ <a href="https://staging-cn.vuejs.org/api/reactivity-core.html#reactive" target="_blank" rel="noopener noreferrer"><code>reactive()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ¥åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¹¶åœ¨ä¸åŒç»„ä»¶ä¸­å¯¼å…¥å®ƒï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// store.js</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { reactive } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">store</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">reactive</span><span style="color:var(--shiki-color-text);">({</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  count</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">0</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">})</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">&lt;!--</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">ComponentA</span><span style="color:var(--shiki-color-text);">.vue </span><span style="color:var(--shiki-token-keyword);">--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { store } from &#39;./store.js&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;From A: {{ store.count }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">&lt;!--</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">ComponentB</span><span style="color:var(--shiki-color-text);">.vue </span><span style="color:var(--shiki-token-keyword);">--&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">import { store } from &#39;./store.js&#39;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">script</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;From B: {{ store.count }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨æ¯å½“ <code>store</code> å¯¹è±¡è¢«æ›´æ”¹æ—¶ï¼Œ<code>&lt;ComponentA&gt;</code> ä¸ <code>&lt;ComponentB&gt;</code> éƒ½ä¼šè‡ªåŠ¨æ›´æ–°å®ƒä»¬çš„è§†å›¾ã€‚ç°åœ¨æˆ‘ä»¬æœ‰äº†å•ä¸€çš„æ•°æ®æºã€‚</p><p><strong>ç„¶è€Œï¼Œè¿™ä¹Ÿæ„å‘³ç€ä»»æ„ä¸€ä¸ªå¯¼å…¥äº† <code>store</code> çš„ç»„ä»¶éƒ½å¯ä»¥éšæ„ä¿®æ”¹å®ƒçš„çŠ¶æ€</strong>ï¼š</p><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	&lt;</span><span style="color:var(--shiki-token-string-expression);">button</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">@click</span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-token-string-expression);">&quot;store.count++&quot;</span><span style="color:var(--shiki-color-text);">&gt;From B: {{ store.count }}&lt;/</span><span style="color:var(--shiki-token-string-expression);">button</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;/</span><span style="color:var(--shiki-token-string-expression);">template</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶è¿™åœ¨ç®€å•çš„æƒ…å†µä¸‹æ˜¯å¯è¡Œçš„ï¼Œä½†ä»é•¿è¿œæ¥çœ‹ï¼Œå¯ä»¥è¢«ä»»ä½•ç»„ä»¶ä»»æ„æ”¹å˜çš„å…¨å±€çŠ¶æ€æ˜¯ä¸å¤ªå®¹æ˜“ç»´æŠ¤çš„ã€‚</p><h3 id="æ¨¡æ¿-vs-æ¸²æŸ“å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ¿-vs-æ¸²æŸ“å‡½æ•°" aria-hidden="true">#</a> æ¨¡æ¿ vs. æ¸²æŸ“å‡½æ•°</h3><p>Vue æ¨¡æ¿ä¼šè¢«é¢„ç¼–è¯‘æˆè™šæ‹Ÿ DOM æ¸²æŸ“å‡½æ•°ã€‚Vue ä¹Ÿæä¾›äº† API ä½¿æˆ‘ä»¬å¯ä»¥ä¸ä½¿ç”¨æ¨¡æ¿ç¼–è¯‘ï¼Œç›´æ¥æ‰‹å†™æ¸²æŸ“å‡½æ•°ã€‚åœ¨å¤„ç†é«˜åº¦åŠ¨æ€çš„é€»è¾‘æ—¶ï¼Œæ¸²æŸ“å‡½æ•°ç›¸æ¯”äºæ¨¡æ¿æ›´åŠ çµæ´»ï¼Œå› ä¸ºä½ å¯ä»¥å®Œå…¨åœ°ä½¿ç”¨ JavaScript æ¥æ„é€ ä½ æƒ³è¦çš„ vnodeã€‚</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆ Vue é»˜è®¤æ¨èä½¿ç”¨æ¨¡æ¿å‘¢ï¼Ÿæœ‰ä»¥ä¸‹å‡ ç‚¹åŸå› ï¼š</p><ol><li>æ¨¡æ¿æ›´è´´è¿‘å®é™…çš„ HTMLã€‚è¿™ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿åœ°é‡ç”¨ä¸€äº›å·²æœ‰çš„ HTML ä»£ç ç‰‡æ®µï¼Œèƒ½å¤Ÿå¸¦æ¥æ›´å¥½çš„å¯è®¿é—®æ€§ä½“éªŒã€èƒ½æ›´æ–¹ä¾¿åœ°ä½¿ç”¨ CSS åº”ç”¨æ ·å¼ï¼Œå¹¶ä¸”æ›´å®¹æ˜“ä½¿è®¾è®¡å¸ˆç†è§£å’Œä¿®æ”¹ã€‚</li><li>ç”±äºå…¶ç¡®å®šçš„è¯­æ³•ï¼Œæ›´å®¹æ˜“å¯¹æ¨¡æ¿åšé™æ€åˆ†æã€‚è¿™ä½¿å¾— Vue çš„æ¨¡æ¿ç¼–è¯‘å™¨èƒ½å¤Ÿåº”ç”¨è®¸å¤šç¼–è¯‘æ—¶ä¼˜åŒ–æ¥æå‡è™šæ‹Ÿ DOM çš„æ€§èƒ½è¡¨ç° (ä¸‹é¢æˆ‘ä»¬å°†å±•å¼€è®¨è®º)ã€‚</li></ol><p>åœ¨å®è·µä¸­ï¼Œæ¨¡æ¿å¯¹å¤§å¤šæ•°çš„åº”ç”¨åœºæ™¯éƒ½æ˜¯å¤Ÿç”¨ä¸”é«˜æ•ˆçš„ã€‚<strong>æ¸²æŸ“å‡½æ•°ä¸€èˆ¬åªä¼šåœ¨éœ€è¦å¤„ç†é«˜åº¦åŠ¨æ€æ¸²æŸ“é€»è¾‘çš„å¯é‡ç”¨ç»„ä»¶ä¸­ä½¿ç”¨</strong>ã€‚æƒ³äº†è§£æ¸²æŸ“å‡½æ•°çš„æ›´å¤šä½¿ç”¨ç»†èŠ‚å¯ä»¥å»åˆ°<a href="https://staging-cn.vuejs.org/guide/extras/render-function.html" target="_blank" rel="noopener noreferrer">æ¸²æŸ“å‡½æ•° &amp; JSX<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ç« èŠ‚ç»§ç»­é˜…è¯»ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// é™¤äº†ç±»å‹å¿…å¡«ä»¥å¤–ï¼Œå…¶ä»–çš„å‚æ•°éƒ½æ˜¯å¯é€‰çš„</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { id</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// attribute å’Œ property éƒ½èƒ½åœ¨ prop ä¸­ä¹¦å†™</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// Vue ä¼šè‡ªåŠ¨å°†å®ƒä»¬åˆ†é…åˆ°æ­£ç¡®çš„ä½ç½®</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { class</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;bar&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> innerHTML</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// å¯ä»¥æ·»åŠ  .prop å’Œ .attr ç­‰é“å…·ä¿®é¥°ç¬¦</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// with &#39;.&#39; and `^&#39; prefixes respectivelyğŸ“¦</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { </span><span style="color:var(--shiki-token-string-expression);">&#39;.name&#39;</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;some-name&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;^width&#39;</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;100&#39;</span><span style="color:var(--shiki-color-text);"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ç±»ä¸æ ·å¼å¯ä»¥åƒåœ¨æ¨¡æ¿ä¸­ä¸€æ ·</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ç”¨æ•°ç»„æˆ–å¯¹è±¡çš„å½¢å¼ä¹¦å†™</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { class</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> [foo</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { bar }]</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> style</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> { color</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;red&#39;</span><span style="color:var(--shiki-color-text);"> } });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// äº‹ä»¶ç›‘å¬å™¨åº”ä»¥ onXxx çš„å½¢å¼ä¹¦å†™</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { </span><span style="color:var(--shiki-token-function);">onClick</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {} });</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// children å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { id</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);"> }</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// æ²¡æœ‰ props æ—¶å¯ä»¥çœç•¥ä¸å†™</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;span&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">)]);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// children æ•°ç»„å¯ä»¥åŒæ—¶åŒ…å« vnodes ä¸å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;span&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">)]);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾—åˆ°çš„ vnode ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">vnode</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { id</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);"> }</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> []);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-constant);">vnode</span><span style="color:var(--shiki-color-text);">.type; </span><span style="color:var(--shiki-token-comment);">// &#39;div&#39;</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">vnode</span><span style="color:var(--shiki-color-text);">.props; </span><span style="color:var(--shiki-token-comment);">// { id: &#39;foo&#39; }</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">vnode</span><span style="color:var(--shiki-color-text);">.children; </span><span style="color:var(--shiki-token-comment);">// []</span></span>
<span class="line"><span style="color:var(--shiki-token-constant);">vnode</span><span style="color:var(--shiki-color-text);">.key; </span><span style="color:var(--shiki-token-comment);">// null</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ç»„åˆå¼ API ä¸æ¨¡æ¿ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œ<code>setup()</code> é’©å­çš„è¿”å›å€¼æ˜¯ç”¨äºæš´éœ²æ•°æ®ç»™æ¨¡æ¿ã€‚ç„¶è€Œå½“æˆ‘ä»¬ä½¿ç”¨æ¸²æŸ“å‡½æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥æŠŠæ¸²æŸ“å‡½æ•°è¿”å›ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { ref</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> h } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	props</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">/* ... */</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">(props) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">ref</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-constant);">1</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// è¿”å›æ¸²æŸ“å‡½æ•°</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);">.msg </span><span style="color:var(--shiki-token-keyword);">+</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">count</span><span style="color:var(--shiki-color-text);">.value);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ <code>setup()</code> å†…éƒ¨å£°æ˜çš„æ¸²æŸ“å‡½æ•°å¤©ç”Ÿèƒ½å¤Ÿè®¿é—®åœ¨åŒä¸€èŒƒå›´å†…å£°æ˜çš„ props å’Œè®¸å¤šå“åº”å¼çŠ¶æ€ã€‚</p><h4 id="vnodes-å¿…é¡»å”¯ä¸€" tabindex="-1"><a class="header-anchor" href="#vnodes-å¿…é¡»å”¯ä¸€" aria-hidden="true">#</a> Vnodes å¿…é¡»å”¯ä¸€</h4><p><strong><code>ç»„ä»¶æ ‘ä¸­çš„ vnodes å¿…é¡»æ˜¯å”¯ä¸€çš„</code></strong>ã€‚ä¸‹é¢æ˜¯é”™è¯¯ç¤ºèŒƒï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">render</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">const</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">p</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">=</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;p&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hi&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> [</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-comment);">// å•Šå“¦ï¼Œé‡å¤çš„ vnodes æ˜¯æ— æ•ˆçš„</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		p</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		p</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	]);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ çœŸçš„éå¸¸æƒ³åœ¨é¡µé¢ä¸Šæ¸²æŸ“å¤šä¸ªé‡å¤çš„å…ƒç´ æˆ–è€…ç»„ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå·¥å‚å‡½æ•°æ¥åšè¿™ä»¶äº‹ã€‚æ¯”å¦‚ä¸‹é¢çš„è¿™ä¸ªæ¸²æŸ“å‡½æ•°å°±å¯ä»¥å®Œç¾æ¸²æŸ“å‡º 20 ä¸ªç›¸åŒçš„æ®µè½ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">function</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">render</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-constant);">Array</span><span style="color:var(--shiki-token-function);">.from</span><span style="color:var(--shiki-color-text);">({ length</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">20</span><span style="color:var(--shiki-color-text);"> })</span><span style="color:var(--shiki-token-function);">.map</span><span style="color:var(--shiki-color-text);">(() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;p&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hi&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		})</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¼ é€’æ’æ§½" tabindex="-1"><a class="header-anchor" href="#ä¼ é€’æ’æ§½" aria-hidden="true">#</a> ä¼ é€’æ’æ§½</h4><p>å‘ç»„ä»¶ä¼ é€’å­å…ƒç´ çš„æ–¹å¼ä¸å‘å…ƒç´ ä¼ é€’å­å…ƒç´ çš„æ–¹å¼æœ‰äº›è®¸ä¸åŒã€‚æˆ‘ä»¬éœ€è¦ä¼ é€’ä¸€ä¸ªæ’æ§½å‡½æ•°æˆ–è€…æ˜¯ä¸€ä¸ªåŒ…å«æ’æ§½å‡½æ•°çš„å¯¹è±¡è€Œéæ˜¯æ•°ç»„ï¼Œæ’æ§½å‡½æ•°çš„è¿”å›å€¼åŒä¸€ä¸ªæ­£å¸¸çš„æ¸²æŸ“å‡½æ•°çš„è¿”å›å€¼ä¸€æ ·â€”â€”å¹¶ä¸”åœ¨å­ç»„ä»¶ä¸­è¢«è®¿é—®æ—¶æ€»æ˜¯ä¼šè¢«è½¬åŒ–ä¸ºä¸€ä¸ª vnodes æ•°ç»„ã€‚</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// å•ä¸ªé»˜è®¤æ’æ§½</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(MyComponent</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// å…·åæ’æ§½</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// æ³¨æ„ `null` æ˜¯å¿…éœ€çš„</span></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// ä»¥é¿å… slot å¯¹è±¡è¢«å½“æˆ prop å¤„ç†ğŸ“¦</span></span>
<span class="line"><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(MyComponent</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">null</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">default</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;default slot&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">foo</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;div&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;foo&#39;</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">bar</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;span&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;one&#39;</span><span style="color:var(--shiki-color-text);">)</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;span&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;two&#39;</span><span style="color:var(--shiki-color-text);">)]</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç­‰ä»· JSX è¯­æ³•ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-comment);">// é»˜è®¤æ’æ§½</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">MyComponent</span><span style="color:var(--shiki-color-text);">&gt;{() </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;hello&#39;</span><span style="color:var(--shiki-color-text);">}&lt;/</span><span style="color:var(--shiki-token-constant);">MyComponent</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-comment);">// å…·åæ’æ§½</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">&lt;</span><span style="color:var(--shiki-token-constant);">MyComponent</span><span style="color:var(--shiki-color-text);">&gt;{{</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">default</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;default slot&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">foo</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> &lt;</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);">&gt;foo&lt;/</span><span style="color:var(--shiki-token-string-expression);">div</span><span style="color:var(--shiki-color-text);">&gt;</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">  </span><span style="color:var(--shiki-token-function);">bar</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> [&lt;</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;one&lt;/</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> &lt;</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;two&lt;/</span><span style="color:var(--shiki-token-string-expression);">span</span><span style="color:var(--shiki-color-text);">&gt;]</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">}}&lt;/</span><span style="color:var(--shiki-token-constant);">MyComponent</span><span style="color:var(--shiki-color-text);">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ’æ§½ä»¥å‡½æ•°çš„å½¢å¼ä¼ é€’ä½¿å¾—å®ƒä»¬å¯ä»¥è¢«å­ç»„ä»¶æ‡’è°ƒç”¨ã€‚è¿™èƒ½ç¡®ä¿å®ƒè¢«æ³¨å†Œä¸ºå­ç»„ä»¶çš„ä¾èµ–å…³ç³»ï¼Œè€Œä¸æ˜¯çˆ¶ç»„ä»¶ã€‚è¿™ä½¿å¾—æ›´æ–°æ›´åŠ å‡†ç¡®åŠæœ‰æ•ˆã€‚</p><h4 id="å†…ç½®ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å†…ç½®ç»„ä»¶" aria-hidden="true">#</a> å†…ç½®ç»„ä»¶</h4><p>è¯¸å¦‚ <code>&lt;KeepAlive&gt;</code>ã€<code>&lt;Transition&gt;</code>ã€<code>&lt;TransitionGroup&gt;</code>ã€<code>&lt;Teleport&gt;</code> å’Œ <code>&lt;Suspense&gt;</code> ç­‰<a href="https://staging-cn.vuejs.org/api/built-in-components.html" target="_blank" rel="noopener noreferrer">å†…ç½®ç»„ä»¶<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>åœ¨æ¸²æŸ“å‡½æ•°ä¸­å¿…é¡»å¯¼å…¥æ‰èƒ½ä½¿ç”¨ï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">import</span><span style="color:var(--shiki-color-text);"> { h</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> KeepAlive</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> Teleport</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> Transition</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> TransitionGroup } </span><span style="color:var(--shiki-token-keyword);">from</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;vue&#39;</span><span style="color:var(--shiki-color-text);">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">() {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(Transition</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { mode</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-string-expression);">&#39;out-in&#39;</span><span style="color:var(--shiki-color-text);"> } </span><span style="color:var(--shiki-token-comment);">/* ... */</span><span style="color:var(--shiki-color-text);">);</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="v-model" tabindex="-1"><a class="header-anchor" href="#v-model" aria-hidden="true">#</a> <code>v-model</code></h4><p><code>v-model</code> æŒ‡ä»¤æ‰©å±•ä¸º <code>modelValue</code> å’Œ <code>onUpdate:modelValue</code> åœ¨æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»è‡ªå·±æä¾›è¿™äº› propsï¼š</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:var(--shiki-color-background);"><code><span class="line"><span style="color:var(--shiki-token-keyword);">export</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-keyword);">default</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	props</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-string-expression);">&#39;modelValue&#39;</span><span style="color:var(--shiki-color-text);">]</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	emits</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> [</span><span style="color:var(--shiki-token-string-expression);">&#39;update:modelValue&#39;</span><span style="color:var(--shiki-color-text);">]</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	</span><span style="color:var(--shiki-token-function);">setup</span><span style="color:var(--shiki-color-text);">(props</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> { emit }) {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">		</span><span style="color:var(--shiki-token-keyword);">return</span><span style="color:var(--shiki-color-text);"> () </span><span style="color:var(--shiki-token-keyword);">=&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			</span><span style="color:var(--shiki-token-function);">h</span><span style="color:var(--shiki-color-text);">(SomeComponent</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> {</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">				modelValue</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> </span><span style="color:var(--shiki-token-constant);">props</span><span style="color:var(--shiki-color-text);">.modelValue</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">				</span><span style="color:var(--shiki-token-string-expression);">&#39;onUpdate:modelValue&#39;</span><span style="color:var(--shiki-token-keyword);">:</span><span style="color:var(--shiki-color-text);"> (value) </span><span style="color:var(--shiki-token-keyword);">=&gt;</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">					</span><span style="color:var(--shiki-token-function);">emit</span><span style="color:var(--shiki-color-text);">(</span><span style="color:var(--shiki-token-string-expression);">&#39;update:modelValue&#39;</span><span style="color:var(--shiki-token-punctuation);">,</span><span style="color:var(--shiki-color-text);"> value)</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">			});</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">	}</span><span style="color:var(--shiki-token-punctuation);">,</span></span>
<span class="line"><span style="color:var(--shiki-color-text);">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å–æ¶ˆ-native-ä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#å–æ¶ˆ-native-ä¿®é¥°ç¬¦" aria-hidden="true">#</a> å–æ¶ˆ <code>.native</code> ä¿®é¥°ç¬¦</h3><p><code>.native</code> ä¿®é¥°ç¬¦åœ¨ Vue 3 å·²ç»ç§»é™¤æ‰ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œåœ¨æ–°å¢çš„ <code>emits</code> é€‰é¡¹ä¸­å®šä¹‰å½“å‰ç»„ä»¶çœŸæ­£è§¦å‘çš„äº‹ä»¶ï¼ˆå³ï¼Œç»„ä»¶äº‹ä»¶ï¼‰ï¼Œå°†æ‰€æœ‰<strong>æœªåœ¨ç»„ä»¶<code>emits</code> é€‰é¡¹ä¸­å®šä¹‰</strong>çš„äº‹ä»¶<strong>ä½œä¸ºåŸç”Ÿäº‹ä»¶æ·»åŠ åˆ°å­ç»„ä»¶çš„æ ¹å…ƒç´ </strong>ä¸­ï¼ˆé™¤éå­ç»„ä»¶é€‰é¡¹ä¸­è®¾ç½®äº† <code>inheritAttrs: false</code>ï¼‰ã€‚</p></div><!----><footer class="page-meta"><!----><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2022/9/18 11:39:38</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: liyufeng@gz-yibo.com">æé›¨é”‹</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/docs/vite.html" class="nav-link prev" aria-label="ğŸ“– Vite åŸºæœ¬ä½¿ç”¨"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ğŸ“– Vite åŸºæœ¬ä½¿ç”¨</div></a><a href="/docs/dev.html" class="nav-link next" aria-label="ğŸ“– è°ƒè¯•æŠ€å·§"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">ğŸ“– è°ƒè¯•æŠ€å·§<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----><!--]--></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.4d775669.js" defer></script>
  </body>
</html>
